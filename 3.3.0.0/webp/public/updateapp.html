<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="build/css/css2.css" rel="stylesheet" />
    <script src="build/js/tailwindcss.cdn.3.4.16.js"></script>
    <link rel="stylesheet" href="build/css/tailwind.css" />
    <!--Regular Datatables CSS-->

    <style>
      /*Overrides for Tailwind CSS */
      /*Form fields*/

      @font-face {
        font-family: "mybigtitlefont";
        src: url("../../fonts/NexaRustSlab-BlackShadow01.otf");
      }
      @font-face {
        font-family: "mybigtitlefontDark";
        src: url("../../fonts/Cairo-Black.ttf");
      }
      html {
        font-family: cairo, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        /* 1 */
        line-height: 1.5;
        /* 2 */
      }

      .inner {
        padding: 0px;
      }
      .inner .scanattemptsnumberUpper {
        margin: -12px 0px 0 0;
        font-size: 40px;
        font-family: mybigtitlefont;
        font-weight: bold;
        white-space: nowrap;
        padding: 0;
        letter-spacing: 0.02em; /* مسافة مُعتمدة على حجم الخط */
      }
      .inner .scanattemptsnumberLower {
        margin: -10px 0px 0px 0;
        font-size: 40px;
        font-family: mybigtitlefont;
        font-weight: bold;
        white-space: nowrap;
        padding: 0;
        letter-spacing: 0.02em; /* مسافة مُعتمدة على حجم الخط */
      }
      .inner .scanattemptsUpper {
        margin: -12px 0 -9px 0;
        font-size: 25px;
        font-family: cairo;
        font-weight: bold;
        text-align: right;
      }
      .inner .scanattemptsLower {
        margin: -87px 0 10px 0;
        font-size: 22px;
        font-family: cairo;
        font-weight: bold;
        text-align: right;
      }

      .table-responsive {
        max-height: 305px; /* تحديد ارتفاع أقصى للعنصر الحاوي */
        overflow-y: auto; /* إضافة تمرير عمودي عند تجاوز الارتفاع */
        overflow-x: auto; /* إضافة تمرير أفقي عند الحاجة */
        margin-top: 0px;
      }

      .table {
        width: 100%;
        border-collapse: collapse; /* دمج حدود الخلايا */
      }

      .table th,
      .table td {
        padding: 3px 10px;
        //border-right: 1px solid rgba(0, 0, 0, 0.19);
        white-space: nowrap; /* منع التفاف النص داخل الخلية */
      }
      .table thead tr.active th {
        background-color: #e9e9e9; /* لون خلفية رأس الجدول */
        position2: sticky; /* تثبيت رأس الجدول */
        top: 0;
        z-index: 1; /* التأكد من أن الرأس يظهر فوق المحتوى */
      }
      table {
        /* ... */
      }

      th {
        font-size: 16px; /* حجم الخط المطلوب */
        /* ... */
      }
      td {
        font-weight: 500;
        font-size: 16px; /* حجم الخط المطلوب */
        /* ... */
      }
      * {
        cursor: default;
        user-select: none;
      }

      .table td,
      .table th2 {
        padding: 0.45rem;
        vertical-align: top;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
      }

      .selected-row {
        background-color: #2196f3 !important;
        color: white;
        transition: background-color 0.3s ease; /* إضافة انتقال سلس للون الخلفية */
      }

      .table-header {
        background-color: #f0f0f0;
        padding: 10px;
        text-align: left;
        font-weight: bold;
      }

      .content-wrapper {
        margin-top: 35px; /* إضافة مسافة أعلى للابتعاد عن شريط التنقل */
      }

      .table-striped tbody tr:nth-of-type(odd) {
        //background-color: rgba(0, 0, 0, 0.05);
        //background-color: #F5F5F5;
      }

      tr.classRunning {
        background-color: #ff4982;
        color: #fff;
      }
      tr.classPending {
        background-color: #ffeaf1;
      }
      tr.classPause {
        background-color: #d9d9d9;
      }
      tr.class1Stopped {
        background-color: #e7f4fe;
        color: #000;
      } //	background-color:#2196F3;
      tr.classRSS {
        background-color: #75f94d;
      }

      * {
        -webkit-user-select: none; /* Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
        user-select: none; /* معيار CSS */
      }
      .table th {
        /* ... أنماط أخرى ... */
        //transition: background-color 0.1s ease; /* إضافة انتقال سلس */
      }

      .table th:hover {
        background-color: #d1d1d1 !important; /* لون الخلفية عند التمرير */
      }

      .top-nav {
        z-index: 1;
        position: absolute;
        top: 0; /*43px */
        left: 1;
        margin-left: 0px;
        width: 100%; /* عرض كامل الصفحة */
        height2: 50px; /* ارتفاع المطلوب */
        background-color2: #e9e9e9; /* لون الخلفية */
        color: #000;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1); /* ظل خفيف */
        display: flex; /* عرض عناصر داخل الشريط بجانب بعض */
        align-items: center; /* محاذاة العناصر عموديا بالوسط */
        justify-content: space-between; /* توزيع العناصر بين المسافتين المتبقيتين */
        padding: 0px; /* مسافة داخلية */
      }

      /* أمثلة لعناصر داخل شريط التنقل (تعديل حسب الحاجة) */
      .top-nav a2 {
        color: #333;
        text-decoration: none;
        padding: 3px 10px 3px 10px;
      }

      .top-nav th:hover2 {
        background-color: #d1d1d1;
      }

      .top-nav {
        /* ... */
        display: flex;
      }

      .top-nav a2 {
        /* ... */
        flex-grow: 1;
      }

      .top-nav a:nth-child(3) {
        /* تخصيص العنصر الثالث */
        width2: 40%;
        text-align2: center;
      }
      .rounded-div {
        background-color: #fff0f5; /* أزرق فاتح */
        padding: 10px 4px 3px 4px; /* مساحة داخلية (اختياري) */
        border-top-left-radius: 15px; /* انحناء الزاوية العلوية اليسرى */
        border-top-right-radius: 15px; /* انحناء الزاوية العلوية اليمنى */
        /* أو اختصارًا: */
        /* border-radius: 15px 15px 0 0; */
        width: auto; /* عرض تلقائي ليناسب المحتوى */
        display: inline-block; /* مهم لضبط العرض بشكل صحيح */
        box-sizing: border-box; /* تضمين الحواف وال padding في عرض العنصر */
        overflow: hidden; /* منع أي محتوى من الخروج عن الحدود المنحنية */
      }

      .autostyle1 {
        text-align: right;
      }

      * {
        -webkit-user-select: none; /* Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
        user-select: none; /* معيار CSS */
      }
      * {
        cursor: default;
        user-select: none;
      }

      button,
      [role="button"] {
        cursor: default;
      }
      button,
      [type="button"] {
        cursor: default;
      }
      .noCursor {
        cursor: default;
      }

      .no-shadow {
        box-shadow: none;
      }

      .table-hover tbody tr {
        //color: var(--dattrtext-100);
        //background-color: rgba(0, 0, 0, 0.075);
        //background-color: var(--dattrtext-100); // #C7E3F9 #E7F4FE
      }

      .table-hover tbody tr:hover {
        color: #212529;
        //background-color: rgba(0, 0, 0, 0.075);
        background-color: var(--dattrtext-100); // #C7E3F9 #E7F4FE
      }

      :root {
        --dattrtext-100: #c7e3f9;
        --red2-1: #ff4982;
        --red2-2: #e54174;
        --border-bottom-color: #d1d5db; /* gray-700 للوضع العادي */
      }

      .dark {
        --dattrtext-100: #9ca3af;
        --border-bottom-color: #3a3f55; /* gray-400 للوضع الداكن */
      }

      .darkdiv {
        margin-top: 4px;
        padding: 0px 1px 1px 1px;
        height: 18px;
      }
      .lightdiv {
        margin-top: 6px;
        margin-left: 2px;
        padding-top: 1px;
      }
      html,
      body {
        overflow: hidden; /* تعطيل التمرير */
        overflow: hidden !important;
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
      }
      html::-webkit-scrollbar,
      body::-webkit-scrollbar {
        display: none; /* إخفاء شريط التمرير في Chrome و Edge */
      }
      .flex-1.h-full.overflow-y-auto {
        /* استهداف الكلاسات المُحدَّدة */
        overflow: hidden; /* أو الأنماط الأخرى */
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      /* الوضع العادي */
      #autodisableupdatecheckbox,
      #enablealertsoundscheckbox,
      #startprogramonstartupcheckbox,
      #playcongratsgifwhenupdaterunningstopedcheckbox {
        accent-color: var(--color-primary-600);
      }

      #autodisableupdatecheckbox,
      #enablealertsoundscheckbox,
      #startprogramonstartupcheckbox,
      #playcongratsgifwhenupdaterunningstopedcheckbox:checked {
        accent-color: var(--color-primary-300);
      }

      /* الوضع الداكن */
      .dark #autodisableupdatecheckbox {
        accent-color: var(--color-primary-400);
      }

      .dark #autodisableupdatecheckbox:checked {
        accent-color: var(--color-primary-008);
      }
      /* الوضع الداكن */
      .dark #enablealertsoundscheckbox {
        accent-color: var(--color-primary-400);
      }

      .dark #enablealertsoundscheckbox:checked {
        accent-color: var(--color-primary-008);
      }
      /* الوضع الداكن */
      .dark #startprogramonstartupcheckbox {
        accent-color: var(--color-primary-400);
      }

      .dark #startprogramonstartupcheckbox:checked {
        accent-color: var(--color-primary-008);
      }
      /* الوضع الداكن */
      .dark #playcongratsgifwhenupdaterunningstopedcheckbox {
        accent-color: var(--color-primary-400);
      }

      .dark #playcongratsgifwhenupdaterunningstopedcheckbox:checked {
        accent-color: var(--color-primary-008);
      }

      /* Custom checkbox styles */
      .custom-checkbox {
        appearance: none;
        -webkit-appearance: none;
        width: 1.5rem; /* زيادة العرض */
        height: 1.5rem; /* زيادة الارتفاع */
        border: 2px solid #cbd5e1;
        border-radius: 0.25rem;
        cursor: default;
        position: relative;
        transition: all 0.2s ease;
        vertical-align: middle; /* محاذاة رأسية مع النص */
      }

      /* Dark mode border */
      .dark .custom-checkbox {
        border-color: #475569;
      }

      /* Light mode background */
      .custom-checkbox {
        background-color: #ffffff;
      }

      /* Dark mode background */
      .dark .custom-checkbox {
        background-color: #1e293b;
      }
      .dark .custom-checkbox:checked {
        background-color: #9333ea;
        border-color: #7e22ce;
      }

      /* Checked state */
      .custom-checkbox:checked {
        background-color: var(--color-primary-300);
        border-color: var(--color-primary-300);
      }

      /* Checkmark */
      .custom-checkbox:checked::after {
        content: "";
        position: absolute;
        left: 7.5px; /* تعديل موضع علامة الصح */
        top: 1.5px; /* تعديل موضع علامة الصح */
        width: 7px; /* تعديل حجم علامة الصح */
        height: 16px; /* تعديل حجم علامة الصح */
        border: solid white;
        border-width: 0 3.5px 3.5px 0;
        transform: rotate(40deg);
      }

      /* Hover state */
      .custom-checkbox:hover {
        border-color: #3b82f6; // #3b82f6;
      }

      /* Style the label to align with the checkbox */
      label {
        display: inline-flex; /* Make the label a flex container */
        align-items: center; /* Vertically align the label content */
      }
	  
	#checkforupdate:disabled {
		cursor: not-allowed;
		//background-color: #cccccc;
	}
	#changelog:disabled {
		cursor: not-allowed;
		//background-color: #cccccc;
	}
	
	
	
	.container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 90%;
            max-width: 600px;
        }
        #status {
            margin-top: 20px;
            font-size: 1.1em;
            color: #333;
        }
        #progressBarContainer {
            background-color: #ddd;
            border-radius: 5px;
            margin: 10px 0;
            height: 20px;
            overflow: hidden;
            display: none; /* مخفي في البداية */
        }
        #progressBar {
            background-color: #4CAF50;
            height: 100%;
            width: 0%;
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }
        #fileProgressContainer {
            margin-top: 10px;
            text-align: left;
        }
        .fileProgressItem {
            margin-bottom: 5px;
        }
        .message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
        }
        .message.error {
            background-color: #ffe0e0;
            color: #d32f2f;
            border: 1px solid #d32f2f;
        }
        .message.success {
            background-color: #e0ffe0;
            color: #388e3c;
            border: 1px solid #388e3c;
        }
        .message.info {
            background-color: #e0f7fa;
            color: #0288d1;
            border: 1px solid #0288d1;
        }
		
		
		
		
		
		/* أنماط مخصصة */
        .progress-container {
            width: 90%;
            margin2: 20px auto;
            background-color: #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
			/* box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); */
        }

        .progress-bar {
            height: 20px;
            background-color: #3b82f6;
			/* background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%); */
            transition: width 0.3s ease-in-out;
			/* transition: width 0.3s ease, background-color 0.3s ease; */
        }

        .file-info {
            padding: 10px;
            background-color: #f8fafc;
            border-radius: 6px;
            margin-top: 10px;
            font-family: monospace;
        }
		
		/* تحريك شريط التقدم */
		@keyframes pulse {
			0% { opacity: 1; }
			50% { opacity: 0.5; }
			100% { opacity: 1; }
		}

		.updating {
			animation: pulse 2s infinite;
		}

		/* ألوان للحالات المختلفة */
		.progress-bar.success {
			background-color: #10b981;
		}

		.progress-bar.error {
			background-color: #ef4444;
		}
		
		
		
		
		
    </style>
    <script src="build/dist/alpine.min.js" defer></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
  </head>
  <body onselectstart="return false" oncopy="return false" oncut="return false" scroll="no">
    <div x-data="setup()" x-init="$refs.loading.classList.add('hidden'); setColors(color);" :class="{ 'dark': isDark}">
      <div class="flex h-screen antialiased text-gray-900 bg-primary-100 dark:bg-primary-1600 dark:text-400">
        <!-- Loading screen -->
        <div id="loadings" x-ref="loading" class="fixed inset-0 z-50 flex items-center justify-center text-2xl font-semibold text-gray-400 bg-[#E1EAF1] dark:bg-primary-1600" style="background2: blue;">
          Initializing...
        </div>
        <!-- Sidebar -->
        <div class="flex-1 h-full overflow-x-hidden overflow-y-auto p-0 bg-primary-200 dark:bg-primary-1700" style="padding: 3px;">
          <div class="p-4a w-full h-full bg-primary-200 dark:bg-primary-1700" style2="height: 87%; margin-top: -1px;">
            <div class="static flex-1 h-full overflow-x-hidden overflow-y-auto p-0" style="margin-left: -1px; margin-top: -1px; width: 101%;">
              <div class="static bg-gray-1002 h-full">
                <div class="w-full font-[cairo] bg-primary-100 dark:bg-primary-1600 rounded-t-lg">
                  <div id="homeContent" class="tab-content w-full px2-5 pb-5 block absolute text-md">
				  
					<div class="w-full max-w-md2">
						<!-- Card Container -->
						<div class2="bg-white dark:bg-gray-800 overflow-hidden">
						  <!-- Header -->
						  <!--
						  <div class="flex items-center justify-between px-6 pt-2 pb-4 border-b border-gray-200 dark:border-gray-700">
							<div class="flex items-center space-x-2">
							  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600 dark:text-blue-400"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
							  <h2 class="text-xl font-semibold text-gray-800 dark:text-white">Send Feedback - Suggestion</h2>
							</div>
						  </div>
						  -->
						  
							<div id="nBody" class="p-4 pt-2 space-y-6a" style="margin-top: -5px;">
								<div class="absolute bottom-0 w-full pb-6a flex items-center justify-center2 gap-4" style="padding-bottom: 40px;">
									<!-- Button Check For Update Enabled -->
									<button id="checkforupdate" class="interactive-element noCursor pl-10 pr-2 py-2 mt-4 text-md text-white flex items-center gap-1 border bg-primary-300 hover:bg-primary-000 shadow-md hover:shadow-lg active:text-blue-100 active:shadow-none disabled:opacity-50 disabled:shadow-none rounded"
									style="width: 200px; --active-bg: var(--color-primary-990); ">
										<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 mr-1" xmlns="http://www.w3.org/2000/svg">
											<path d="M3 10V18C3 19.1046 3.89543 20 5 20H12M3 10V6C3 4.89543 3.89543 4 5 4H19C20.1046 4 21 4.89543 21 6V10M3 10H21M21 10V13" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.5 15L17.5 21M17.5 21L20 18.5M17.5 21L15 18.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="6" cy="7" r="1"/><circle cx="9" cy="7" r="1"/>
										</svg>
										Start Update
									</button>
									<!-- Button Check For Update Disabled -->
									<button id="checkforupdate2" onclick="checkConnect();" class="interactive-element noCursor pl-6 pr-4 py-2 mt-4 text-md text-white flex items-center gap-1 border bg-primary-400 hover:bg-pink-600 active:bg-pink-700 shadow-md hover:shadow-lg active:text-blue-100 active:shadow-none disabled:opacity-50 disabled:shadow-none rounded"
									style="width: 255px; ">
										<svg fill="currentColor" class="w-6 h-6 mr-1" viewBox="0 0 51.807 51.807">
											<g><g><path d="M48.881,24.904c-0.553,0-1,0.447-1,1c0,12.131-9.869,22-22,22c-8.611,0-16.304-4.944-19.919-12.677l5.194,2.312 c0.506,0.229,1.097-0.002,1.319-0.507c0.225-0.504-0.002-1.095-0.507-1.319L4.66,32.458c-0.503-0.228-1.096,0.002-1.319,0.507 l-3.254,7.309c-0.225,0.504,0.002,1.095,0.507,1.319c0.132,0.06,0.269,0.087,0.405,0.087c0.384,0,0.749-0.221,0.914-0.594 l2.235-5.02c3.942,8.44,12.336,13.837,21.732,13.837c13.233,0,24-10.767,24-24C49.881,25.351,49.433,24.904,48.881,24.904z"/><path d="M51.214,10.172c-0.503-0.227-1.096,0.002-1.319,0.507l-2.266,5.089C43.693,7.306,35.305,1.904,25.881,1.904 c-13.233,0-24,10.767-24,24c0,0.553,0.447,1,1,1s1-0.447,1-1c0-12.131,9.869-22,22-22c8.6,0,16.26,4.906,19.888,12.601 l-5.115-2.278c-0.507-0.229-1.097,0.002-1.32,0.506c-0.225,0.505,0.002,1.096,0.506,1.32l7.308,3.254 c0.13,0.058,0.269,0.087,0.407,0.087c0.121,0,0.243-0.022,0.358-0.066c0.248-0.095,0.447-0.284,0.555-0.527l3.254-7.309 C51.945,10.988,51.719,10.397,51.214,10.172z"/><path d="M35.881,25.904c0-5.514-4.486-10-10-10s-10,4.486-10,10s4.486,10,10,10S35.881,31.417,35.881,25.904z M17.881,25.904 c0-4.411,3.589-8,8-8s8,3.589,8,8s-3.589,8-8,8S17.881,30.315,17.881,25.904z"/><path d="M26.591,32.614c0.19-0.19,0.29-0.44,0.29-0.71c0-0.13-0.03-0.26-0.08-0.38s-0.12-0.23-0.21-0.33 c-0.24-0.23-0.58-0.34-0.91-0.271c-0.06,0.011-0.12,0.03-0.18,0.06c-0.06,0.02-0.12,0.05-0.181,0.09 c-0.05,0.03-0.1,0.08-0.149,0.12c-0.09,0.1-0.16,0.21-0.21,0.33s-0.08,0.25-0.08,0.38c0,0.27,0.1,0.52,0.29,0.71 c0.19,0.189,0.44,0.29,0.71,0.29C26.15,32.904,26.4,32.803,26.591,32.614z"/><path d="M25.881,29.904c0.553,0,1-0.447,1-1v-8c0-0.553-0.447-1-1-1s-1,0.447-1,1v8C24.881,29.456,25.328,29.904,25.881,29.904z"/></g></g>
										</svg>
										Check Internet Connection
									</button>
								</div>
								
								<!-- Offline Message -->
								<div id="waitMessage" class="flex-1 h-full overflow-x-hidden overflow-y-auto">
									<div class="h-screena flex items-center justify-center p-10a">
										<div class="p-6a text-center flex items-center justify-center">
											<div class="flex flex-col items-center space-y-4">
												<img src="img/loading5.gif" width="112" height="112" class="mt-2 mb-2" />
												<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300">Checking For Updates..</h3>
												<p class="text-gray-500 dark:text-gray-400">Please wait to check for updates, this may take a while</p>
											</div>
										</div>
									</div>
								</div>
								
								<div id="noUpdateMessage" class="text-md mb-2 ml-4a" style="display: none;">
									<!-- Header -->
									<div class="flex justify-between items-center mb-1">
										<span class="text-lg font-bold" id="progress-percent">The software is the latest version 💡 </span>
									</div>
										<!-- Copy Info -->
									<div class="text-md mb-2 font-semibold">
									No New Update Available:
									</div>
									<table style="width: 100%">
										<tr class="bg-gray-100">
											<td style="width: 138px; padding-left: 15px;">#</td>
											<td style="width: 166px" class="text-pink-900 font-semibold">Current Version</td>
											<td class="text-blue-600 font-bold">
											&nbsp;</td>
										</tr>
										<tr>
											<td style="width: 138px; padding-left: 15px;">Version</td>
											<td id="currentVersionNumberDiv2" style="width: 166px" class="text-pink-900 font-semibold">...</td>
											<td class="text-blue-600 font-bold">
											&nbsp;</td>
										</tr>
										<tr>
											<td style="width: 138px; padding-left: 15px;">Date</td>
											<td id="currentReleaseDateDiv2" style="width: 166px" class="text-pink-900 font-semibold">...</td>
											<td class="text-blue-600 font-bold">&nbsp;</td>
										</tr>
									</table>
									<div class="text-md mt-4 font-semibold">
									Thank you for using <span class="text-blue-500 font-bold text-lg ml-2 mr-2">Stop Automatic Windows Updates</span> program
									</div>
								</div>
									
								<div id="checkforupdateDiv1" class="bg-white rounded-lg h-[300px] w-[99%]">
									<div id="updateAvailableMessage" class="text-md mb-2 ml-4a" style="display: none;">
										<!-- Header -->
										<div class="flex justify-between items-center mb-1">
											<span class="text-lg font-bold" id="progress-percent">New Update Available 💡 </span>
										</div>
										<!-- Copy Info -->
										<div class="text-md mb-2 font-semibold">
										Found New Update:
										</div>
										<table style="width: 100%">
											<tr class="bg-gray-100">
												<td style="width: 138px; padding-left: 15px;">#</td>
												<td style="width: 166px" class="text-pink-900 font-semibold">Current Version</td>
												<td class="text-blue-600 font-bold">New Version</td>
												<td class="text-blue-600 font-bold">
												&nbsp;</td>
											</tr>
											<tr>
												<td style="width: 138px; padding-left: 15px;">Version</td>
												<td id="currentVersionNumberDiv" style="width: 166px" class="text-pink-900 font-semibold">...</td>
												<td id="newVersionNumberDiv" class="text-blue-600 font-bold">...</td>
												<td class="text-blue-600 font-bold">
												&nbsp;</td>
											</tr>
											<tr>
												<td style="width: 138px; padding-left: 15px;">Date</td>
												<td id="currentReleaseDateDiv" style="width: 166px" class="text-pink-900 font-semibold">...</td>
												<td id="newReleaseDateDiv" class="text-blue-600 font-bold">...</td>
												<td class="text-blue-600 font-bold">&nbsp;</td>
											</tr>
											<tr>
												<td style="width: 138px; padding-left: 15px;"></td>
												<td id="currentReleaseDateDiv" style="width: 166px" class="text-pink-900 font-semibold"></td>
												<td id="newReleaseDateDiv" class="text-blue-600a font-bold flex gap-2">
													See Change Log
													<button id="changelog" class="interactive-element px-4 py-1 mt-4a text-sm text-white flex items-center gap-1 border bg-gray-700 hover:bg-gray-500 shadow-md hover:shadow-lg active:text-blue-100 active:shadow-none disabled:opacity-50 disabled:shadow-none rounded"
													style="--active-bg: var(--color-primary-1600); ">
														Change Log
													</button>
												</td>
												<td class="text-blue-600 font-bold">&nbsp;</td>
											</tr>
										</table>
										<hr class="h-px my-3a mb-2.5 mt-2 bg-gray-100 border-0 " />
										<!--
										<table style="width: 400px">
											<tr>
												<td style="width: 138px; padding-left: 15px;"></td>
												<td>
													<button id="changelog" class="interactive-element px-4 py-1 mt-4a text-sm text-white flex items-center gap-1 border bg-gray-700 hover:bg-gray-500 shadow-md hover:shadow-lg active:text-blue-100 active:shadow-none disabled:opacity-50 disabled:shadow-none rounded"
													style="--active-bg: var(--color-primary-1600); ">
														Change Log
													</button>
												</td>
											</tr>
										</table>
										-->
									</div>

									
									<!-- Offline Message -->
								    <div id="offlineMessage" class="flex-1 h-full overflow-x-hidden overflow-y-auto" style="display: none;">
										<div class="h-screena flex items-center justify-center p-10a">
											<div class="p-6a text-center flex items-center justify-center">
												<div class="flex flex-col items-center space-y-4">
													<div id="offlineMessageSVG">
														<svg fill="currentColor" viewBox="0 0 36 36" style="width: 100px; height: 100px;" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path class="clr-i-outline clr-i-outline-path-1" d="M18,24.42a4,4,0,1,0,4,4A4,4,0,0,0,18,24.42Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,18,30.42Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M26.21,21.85a1,1,0,0,0-.23-1.4,13.56,13.56,0,0,0-5-2.23l3.87,3.87A1,1,0,0,0,26.21,21.85Z"></path><path class="clr-i-outline clr-i-outline-path-3" d="M18.05,10.72a20.88,20.88,0,0,0-4.16.43l1.74,1.74a19,19,0,0,1,2.42-.17A18.76,18.76,0,0,1,28.64,16a1,1,0,0,0,1.12-1.65A20.75,20.75,0,0,0,18.05,10.72Z"></path><path class="clr-i-outline clr-i-outline-path-4" d="M33.55,8.2A28.11,28.11,0,0,0,8.11,5.36L9.69,6.93A26,26,0,0,1,32.45,9.87a1,1,0,0,0,1.1-1.67Z"></path><path class="clr-i-outline clr-i-outline-path-5" d="M1.84,4.75,4.27,7.18c-.62.34-1.23.7-1.83,1.1A1,1,0,1,0,3.56,9.94C4.26,9.47,5,9,5.74,8.65l3.87,3.87A20.59,20.59,0,0,0,6.23,14.4,1,1,0,0,0,7.36,16a18.82,18.82,0,0,1,3.77-2l4.16,4.16A13.51,13.51,0,0,0,10,20.55a1,1,0,0,0,1.18,1.61A11.52,11.52,0,0,1,17,20l10.8,10.8,1.41-1.41-26-26Z"></path><rect x="0" y="0" width="36" height="36" fill-opacity="0"/></svg>
													</div>
													<h3 id="offlineMessageTitle" class="text-xl font-semibold text-gray-700 dark:text-gray-300">Oops, Looks Like There's No Internet Connection</h3>
													<p id="offlineMessageContent" class="text-gray-500 dark:text-gray-400">Please check your internet connection and try again</p>
													</div>
											</div>
										</div>
									</div>
									
									<div id="startUpdateDiv" class="container" style="display: none;">
										<h2 class="text-xl font-semibold mb-4">تحديث البرنامج</h2>
										<p id="status">جاري التحقق من التحديثات...</p>

										<div id="progressBarContainer">
											<div id="progressBar"></div>
										</div>

										<div id="fileProgressContainer">
											</div>

										<div id="messageArea" style="display: none;">
											<div id="messageContent" class=""></div>
										</div>
									</div>
									
									
									
									<!-- Downloading & Installing Div -->
									<div id="progress-container" class="hidden w-[90%] mx-auto my-5a bg-gray-200 rounded-lg overflow-hidden shadow-sm">
										<div class="text-center mb-4 p-4">
											<h2 class="text-xl font-bold text-gray-800 mb-2">🔄 Updating Application</h2>
											<p class="text-gray-600 text-sm">Do not close this window during update</p>
										</div>
										<!--
										<div id="loading" class="flex items-center justify-center py-4">
											<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div>
										</div>
										-->
										<div id="total-progress" class="h-4 bg-blue-500 transition-all duration-300"></div>

										<div class="p-4 bg-white mt-2 rounded-md">
											<div class="flex justify-between items-center mb-2">
												<span class="text-gray-700 font-medium" id="current-file">Preparing update...</span>
												<span class="text-blue-600 font-bold" id="file-progress">0%</span>
											</div>
											
											<div class="flex gap-2 items-center">
												<div class="flex-1 bg-gray-100 h-2 rounded-full">
													<div id="file-progress-bar" class="h-2 bg-green-500 rounded-full w-0"></div>
												</div>
											</div>
										</div>
									</div>
									
									
									<!-- Downloading & Installing Div -->
									<div id="checkforupdateDiv2" class="bg-white rounded-lg shadow-lg2 p-4a w-[99%]" style="display: none;">
										<!-- Header -->
										<div class="flex justify-between items-center mb-1">
											<span class="text-lg font-semibold" id="progress-percent">79% complete</span>
											<div class="hidden flex gap-2">
												<button id="pause-btn" class="noCursor text-gray-500 hover:bg-gray-100 p-1 rounded">
													<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
														<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
													</svg>
												</button>
												<button id="close-btn" class="noCursor text-gray-500 hover:bg-gray-100 p-1 rounded">
													<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
														<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
													</svg>
												</button>
											</div>
										</div>

										<!-- Copy Info -->
										<div id="downloading2" class="text-md mb-2">
										Downloading updates (<span id="total-items">199</span> items)
										</div>
										<!-- Installing Info -->
										<div id="installing" class="hidden text-md mb-2">
											Installing updates (<span id="total-items">199</span> items) from <span class="text-blue-600">temp_1234567</span> to <span class="text-blue-600">SAWU</span>
										</div>
										
										<!-- Progress Bar -->
										<div class="w-full h-[90px] bg-gray-200 rounded mb-2 relative overflow-hidden" style="padding: 0px;">
											<div id="progress-bar" class="h-full w-[100%] bg-gray-200 rounded relative" style="padding: 1px;">
												<div id="progress-bar" class="h-full w-[79%] bg-[#2497F3] rounded relative">
												<!--<div class="absolute inset-0 bg-gradient-to-b from-blue-400 to-blue-600 opacity-50"></div>-->
												</div>
											</div>
										</div>

										<!-- Stats -->
										<div class="flex justify-between text-md text-gray-600">
											<div>Speed: <span id="speed">15.5 MB/s</span></div>
											<div>Time remaining: <span id="time-remaining">About 5 seconds</span></div>
										</div>

										<!-- File Info -->
										<div class="mt-1">
											<div class="text-md">Name: <span id="current-file">05b8ee0f-5f59-41b4-bac5-afc8ab64990f.vsidx</span></div>
											<div class="text-md">Items remaining: <span id="items-remaining">21</span> (<span id="size-remaining">2.11 MB</span>)</div>
										</div>
										
										<!-- Fewer Details -->
										<!--
										<button id="checkforupdate5" class="interactive-element noCursor pl-6 pr-4 py-2 mt-4 text-md text-white flex items-center gap-1 border bg-primary-300 hover:bg-primary-000 shadow-md hover:shadow-lg active:text-blue-100 active:shadow-none disabled:opacity-50 disabled:shadow-none rounded"
										style="width: 200px; --active-bg: var(--color-primary-990); --active-bg-dark: var(--color-primary-008); ">
											<svg class="w-4 h-4 transform rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
											</svg>
											Check For Updates
										</button>
										-->
									</div>
									
								</div>
								
							</div>
						  
						</div>
					</div>
				  
                  </div>
                </div>
                <!--
        <div id="profileContent" class="tab-content px-6 py-12 hidden absolute">
            <h3 class="text-lg font-bold">Profile content</h3>
            <p class="text-md text-gray-800 mt-4">Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor
                incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam
                corporis
                suscipit laboriosam. Lorem ipsum dolor sit amet, consectetur..</p>
        </div>
		-->
              </div>

              <!--
							<div class="absolute bottom-7 left-0a">
								<p>Absolute child</p>
							</div>
							-->
            </div>
          </div>
        </div>
      </div>
      <div class="flex-1 h-full overflow-x-hidden overflow-y-auto hidden">
        <div class="w-full">
          <div id="iHeader" class="row bg-primary-100 dark:bg-primary-1600">
            <div style="display: flex; justify-content: space-between; align-items: right; padding: 0px;">
              <div></div>
              <div style="background-color2: black; padding: 0px; display: none; justify-content: space-between; align-items: center;">
                <table>
                  <tr>
                    <td>
                      <nav id="mustButtons" aria-label="Secondary" class="flex items-center">
                        <!-- Toggle dark theme button -->
                        <!-- p-2 transition-colors duration-200 rounded-full text-primary-500 bg-primary-500 hover:text-primary hover:bg-primary-100 dark:hover:text-400 dark:hover:bg-primary-600 dark:bg-600 focus:outline-none focus:bg-primary-100 dark:focus:bg-primary-600 focus:ring-primary-700 -->
                        <!-- Settings button -->

                        <button id="buttonTheme" aria-hidden="true" class="noCursor relative focus:outline-none" x-cloak @click="toggleTheme" style="padding-top: 5px; padding-bottom: 5px;">
                          <div class="w-11 h-5 transition rounded-full outline-none bg-gray-200 dark:bg-purple-400 border dark:border-gray-500 border-slate-300" style="margin-right: 5px; margin-top: 0px;"></div>
                          <!-- 
                                                    														   <input id="startcheckwhenopencheckbox" type="checkbox" class="peer appearance-none w-11 h-5 bg-slate-200 rounded-full border dark:bg-gray-700 dark:border-slate-900 border-gray-300 dark:checked:border-gray-500 dark:checked:bg-purple-600  checked:border-gray-400 checked:bg-primary-800 transition-colors duration-300" />
                                                    															<label for="startcheckwhenopencheckbox" class="absolute top-0 left-0 w-5 h-5 dark:bg-gray-600 bg-white rounded-full border dark:peer-checked:bg-purple-300 dark:peer-checked:border-purple-700 peer-checked:border-blue-500 dark:border-slate-800 border-slate-300 shadow-sm transition-transform duration-300 peer-checked:translate-x-6 ">
                                                    														   absolute top-0 left-0 w-5 h-5 dark:bg-gray-600 bg-white rounded-full border dark:peer-checked:bg-purple-300 dark:peer-checked:border-purple-700 peer-checked:border-blue-500 dark:border-slate-800 border-slate-300 shadow-sm transition-transform duration-300 peer-checked:translate-x-6 -->
                          <div
                            class="absolute top-1s left-0 inline-flex items-center justify-center w-5 h-5 border dark:border-gray-500 border-slate-300 transition-all duration-300 transform scale-110 rounded-full shadow-sm"
                            style2="margin-top: 8px;"
                            :class="{ 'translate-x-0 -translate-y-px  text-gray-500 bg-gray-100 lightdiv': !isDark, 'translate-x-6 text-rose-100 bg-purple-500 border-gray-500 darkdiv': isDark }"
                          >
                            <svg x-show="!isDark" id="buttonLiteDark-dark-icon" class="w-5 h-5" style="margin-top: 4px; margin-left: 1.2px;" fill="currentColor" viewBox="0 0 130 130">
                              <path
                                d="M96.371,59.349a3.2,3.2,0,0,0-3.946.618,37.08,37.08,0,1,1-52.387-52.4,3.211,3.211,0,0,0-3.1-5.435,49.321,49.321,0,0,0-25.049,17.4A48.952,48.952,0,0,0,50.952,98a48.519,48.519,0,0,0,29.512-9.895A49.361,49.361,0,0,0,97.869,63.05,3.2,3.2,0,0,0,96.371,59.349Z"
                              />
                              <path
                                d="M43.282,34.257,52.876,41.2,49.2,52.449a3.714,3.714,0,0,0,5.716,4.159l9.565-6.979,9.573,6.984a3.714,3.714,0,0,0,5.709-4.162L76.083,41.2l9.595-6.944a3.714,3.714,0,0,0-2.19-6.721l-11.834.023L68.017,16.293l0-.009a3.716,3.716,0,0,0-7.072.009L57.305,27.558l-11.838-.023a3.714,3.714,0,0,0-2.185,6.722Z"
                              />
                            </svg>
                            <svg x-show="isDark" id="buttonLiteDark-light-icon" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" style="margin-top: 4px; padding: 1px;" viewBox="0 0 95 120" fill="currentColor" x="0px" y="0px">
                              <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M46 9C46 6.79086 47.7909 5 50 5C52.2091 5 54 6.79086 54 9V19C54 21.2091 52.2091 23 50 23C47.7909 23 46 21.2091 46 19V9ZM70 50C70 61.0457 61.0457 70 50 70C38.9543 70 30 61.0457 30 50C30 38.9543 38.9543 30 50 30C61.0457 30 70 38.9543 70 50ZM81.8198 18.18C80.2577 16.6179 77.725 16.6179 76.1629 18.18L69.0918 25.2511C67.5297 26.8132 67.5297 29.3458 69.0918 30.9079C70.6539 32.47 73.1866 32.47 74.7487 30.9079L81.8198 23.8368C83.3819 22.2747 83.3819 19.7421 81.8198 18.18ZM91 46C93.2091 46 95 47.7909 95 50C95 52.2091 93.2091 54 91 54H81C78.7909 54 77 52.2091 77 50C77 47.7909 78.7909 46 81 46H91ZM81.8198 81.8196C83.3819 80.2575 83.3819 77.7249 81.8198 76.1628L74.7487 69.0917C73.1866 67.5296 70.6539 67.5296 69.0918 69.0917C67.5297 70.6538 67.5297 73.1865 69.0918 74.7486L76.1629 81.8196C77.725 83.3817 80.2577 83.3817 81.8198 81.8196ZM46 81C46 78.7909 47.7909 77 50 77C52.2091 77 54 78.7909 54 81V91C54 93.2091 52.2091 95 50 95C47.7909 95 46 93.2091 46 91V81ZM30.9081 69.0921C29.346 67.53 26.8134 67.53 25.2513 69.0921L18.1802 76.1632C16.6181 77.7253 16.6181 80.2579 18.1802 81.82C19.7423 83.3821 22.275 83.3821 23.8371 81.82L30.9081 74.749C32.4702 73.1869 32.4702 70.6542 30.9081 69.0921ZM19 46C21.2091 46 23 47.7909 23 50C23 52.2091 21.2091 54 19 54H9C6.79086 54 5 52.2091 5 50C5 47.7909 6.79086 46 9 46H19ZM30.9081 30.908C32.4702 29.3459 32.4702 26.8133 30.9081 25.2512L23.8371 18.1801C22.275 16.618 19.7423 16.618 18.1802 18.1801C16.6181 19.7422 16.6181 22.2749 18.1802 23.8369L25.2513 30.908C26.8134 32.4701 29.346 32.4701 30.9081 30.908Z"
                              />
                            </svg>
                          </div>
                        </button>
                        <button
                          id="buttonColoredLite"
                          type="button"
                          class="interactive-element noCursor pl-4 pr-4 py-1 font-medium text-sm text-center inline-flex items-center dark:bg-primary-1600 dark:text-gray-200 dark:hover:text-gray-200 dark:hover:bg-[#6B7280] hover:text-gray-800 text-primary-1600 hover:bg-primary-1200 bg-primary-100 focus:outline-none rounded-sm"
                          style="--active-bg: var(--color-primary-007); --active-bg-dark: var(--color-[#9CA3AF]); padding-top: 5px; padding-bottom: 5px;"
                        >
                          <svg id="buttonColored-icon" class="hidden w-7 h-5" viewBox="0 0 16.00 16.00" xmlns="http://www.w3.org/2000/svg" fill="#A955F7">
                            <g id="SVGRepo_bgCarrier" stroke-width="0" />
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.096" />
                            <g id="SVGRepo_iconCarrier">
                              <path d="M10.5 10.5c.002 2.762-2.237 5-5 5s-5.002-2.238-5-5c-.002-2.76 2.237-5 5-5s5.002 2.24 5 5z" color="#000000" fill="#ff15a1" stroke="#373737" stroke-width="0.144" />
                              <path d="M8 1.401a4.998 4.998 0 0 0-2.488 9.334c-.004-.078-.012-.155-.012-.234a4.998 4.998 0 0 1 7.488-4.334A4.994 4.994 0 0 0 8 1.4z" fill="#1583ff" />
                              <path d="M10.5 5.5a4.998 4.998 0 0 0-5 5c0 .08.008.157.012.235A4.998 4.998 0 0 0 13 6.401c0-.079-.008-.156-.012-.234A4.975 4.975 0 0 0 10.5 5.5z" fill="#00cf2d" />
                              <path d="M12.988 6.167c.004.078.012.155.012.234a4.998 4.998 0 0 1-7.489 4.334 4.994 4.994 0 0 0 4.989 4.766 4.998 4.998 0 0 0 2.488-9.334z" fill="#f8ff15" />
                              <path d="M5.512 10.735a4.996 4.996 0 0 0 2.486 4.093 4.987 4.987 0 0 0 2.49-4.091A4.978 4.978 0 0 1 8 11.4a4.975 4.975 0 0 1-2.488-.666z" fill="#ef0000" />
                              <path d="M7.998 6.173A4.991 4.991 0 0 0 5.5 10.5c0 .079.008.156.012.234a4.978 4.978 0 0 0 4.977.002c.003-.079.011-.157.011-.236a4.99 4.99 0 0 0-2.502-4.328z" fill="#383027" />
                              <path d="M5.5 5.5c-.91 0-1.76.247-2.494.67a4.99 4.99 0 0 0 2.506 4.564c-.004-.077-.012-.154-.012-.233a4.991 4.991 0 0 1 2.498-4.328A4.975 4.975 0 0 0 5.5 5.5z" fill="#5100cc" />
                              <path d="M8 1.401a4.998 4.998 0 0 0-4.994 4.77 4.998 4.998 0 1 0 4.992 8.658 4.998 4.998 0 1 0 4.99-8.662A4.994 4.994 0 0 0 8 1.4z" fill="none" stroke="#373737" stroke-width="0.144" />
                            </g>
                          </svg>
                          <svg id="buttonLite-icon" class="hidden w-7 h-5" viewBox="0 0 24 24" fill="#ffffff" xmlns="http://www.w3.org/2000/svg">
                            <g id="SVGRepo_bgCarrier" stroke-width="0" />
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
                            <g id="SVGRepo_iconCarrier">
                              <circle cx="12" cy="12" r="9" stroke="#6B7280" stroke-width="2" />
                              <path
                                d="M18.364 5.63604C16.6761 3.94821 14.3869 3 12 3C9.61305 3 7.32387 3.94821 5.63604 5.63604C3.94821 7.32387 3 9.61305 3 12C3 14.3869 3.94821 16.6761 5.63604 18.364L12 12L18.364 5.63604Z"
                                fill2="#6B7280"
                                class="dark:fill-semiblack fill-gray-500"
                              />
                            </g>
                          </svg>
                        </button>
                        <button
                          id="buttonHelp"
                          type="button"
                          class="interactive-element noCursor pl-2 pr-4 py-1 font-medium text-sm text-center inline-flex items-center dark:bg-primary-880 dark:text-gray-200 dark:hover:text-gray-200 dark:hover:bg-primary-888 hover:text-primary-600 text-primary-440 border2 border-slate-300 hover:bg-primary-444 bg-primary-707 focus:outline-none rounded-sm"
                          style="cursor: default; height: 30px; margin-left: 0.9px; margin-right: 0.9px; --active-bg: var(--color-primary-222); --active-bg-dark: var(--color-primary-808); padding-top: 5px; padding-bottom: 5px;"
                        >
                          <svg class="w-7 h-5" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                            <path
                              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"
                            />
                          </svg>
                          <span class="font-semibold">Help</span>
                        </button>
                        <button
                          id="buttonSettings"
                          type="button"
                          class="interactive-element noCursor pl-3 pr-4 py-1 font-medium text-sm text-center inline-flex items-center dark:text-gray-100 dark:hover:text-gray-200 dark:bg-primary-990 dark:hover:bg-primary-999 hover:text-primary-200 text-primary-220 hover:bg-primary-900 bg-primary-800 focus:outline-none rounded-sm"
                          style="cursor: default; margin-right: 0.17px; --active-bg: var(--color-primary-700); --active-bg-dark: var(--color-primary-770); padding-top: 5px; padding-bottom: 5px;"
                        >
                          <svg class="w-7 h-5" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 560 560" style="padding-top: 2px;">
                            <path
                              d="M496.851,212.213l-48.806-12.201c-4.106-14.108-9.722-27.572-16.666-40.205l25.89-43.151 c4.722-7.869,3.482-17.943-3.008-24.432l-34.485-34.485c-6.489-6.49-16.563-7.729-24.432-3.008l-43.151,25.89 c-12.633-6.944-26.097-12.56-40.205-16.666l-12.201-48.805C297.561,6.246,289.562,0,280.384,0h-48.769 c-9.177,0-17.177,6.246-19.403,15.149l-12.201,48.805c-14.108,4.106-27.572,9.722-40.205,16.666l-43.151-25.89 c-7.87-4.722-17.943-3.482-24.432,3.008L57.738,92.223c-6.489,6.489-7.729,16.562-3.008,24.432l25.89,43.151 c-6.944,12.633-12.56,26.097-16.666,40.205l-48.806,12.201C6.246,214.438,0,222.438,0,231.615v48.769 c0,9.177,6.246,17.177,15.149,19.403l48.806,12.201c4.106,14.108,9.722,27.572,16.666,40.205l-25.89,43.151 c-4.722,7.869-3.482,17.943,3.008,24.432l34.485,34.485c6.489,6.49,16.563,7.729,24.432,3.008l43.151-25.89 c12.633,6.944,26.097,12.56,40.205,16.666l12.201,48.805c2.226,8.903,10.225,15.149,19.403,15.149h48.769 c9.177,0,17.177-6.246,19.403-15.149l12.201-48.805c14.108-4.106,27.572-9.722,40.205-16.666l43.151,25.89 c7.87,4.722,17.943,3.482,24.432-3.008l34.485-34.485c6.489-6.489,7.729-16.562,3.008-24.432l-25.89-43.151 c6.944-12.633,12.56-26.097,16.666-40.205l48.806-12.201c8.903-2.226,15.149-10.226,15.149-19.403v-48.769 C512,222.438,505.754,214.438,496.851,212.213z M256,336c-44.112,0-80-35.888-80-80s35.888-80,80-80s80,35.888,80,80 S300.112,336,256,336z"
                            />
                          </svg>
                          <span class="font-semibold">Settings</span>
                        </button>
                        <button
                          id="buttonMinimize"
                          type="button"
                          class="interactive-element noCursor pl-5 pr-5 py-1 font-medium text-sm text-center inline-flex items-center dark:text-gray-100 dark:hover:text-gray-200 dark:bg-primary-990 dark:hover:bg-primary-999 hover:text-primary-200 text-primary-220 hover:bg-primary-900 bg-primary-800 focus:outline-none rounded-sm"
                          style="cursor: default; margin-right: 0.9px; --active-bg: var(--color-primary-700); --active-bg-dark: var(--color-primary-770); padding-top: 5px; padding-bottom: 5px;"
                        >
                          <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14" />
                          </svg>
                        </button>
                        <button
                          id="buttonClose"
                          type="button"
                          class="noCursor pl-5 pr-6 py-1 font-medium text-sm text-center inline-flex items-center dark:text-gray-300 dark:hover:text-white dark:active:bg-red-400 dark:bg-red-700 active:bg-red-400 dark:hover:bg-[var(--red2-2)] hover:text-white text-white bg-primary-400 hover:bg-primary-500 focus:outline-none rounded-sm"
                          style="cursor: default; padding-top: 5px; padding-bottom: 5px;"
                        >
                          <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6" />
                          </svg>
                        </button>
                      </nav>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <!-- /.col -->
          </div>
          <!-- Desktop navbar -->
        </div>
      </div>
    </div>
    <!-- All javascript code in this project for now is just for demo DON'T RELY ON IT  -->
    <!--Datatables -->
    <script>
	
	startUpdate = false;
	versionNumber = "3.1.0.0";
	releaseDate = "2025-01-15";
	// إضافة مؤقت للتحكم في الوقت الأدنى للعرض
	let btnTimer;
	
	function updateProgress(percent, fileName) {
		const progressBar = document.getElementById('total-progress');
		progressBar.style.width = percent + '%';
		
		// تغيير اللون حسب النسبة
		if(percent < 30) {
			progressBar.style.backgroundColor = '#ef4444';
		} else if(percent < 70) {
			progressBar.style.backgroundColor = '#f59e0b';
		} else {
			progressBar.style.backgroundColor = '#10b981';
		}
		
		// تحديث المعلومات الأخرى
		document.getElementById('current-file').textContent = fileName;
		document.getElementById('file-progress').textContent = Math.round(percent) + '%';
	}
	
	function showProgress() {
		document.getElementById('updateAvailableMessage').style.display = 'none';
		document.getElementById('progress-container').classList.remove('hidden');
	}

	function showUpdateComplete() {
		alert('showUpdateComplete');
		// عرض رسالة النجاح
	}

	function showUpdateError(message) {
		alert('showUpdateError: ' + message);
		// عرض رسالة الخطأ
	}
	
	const statusElement = document.getElementById('status');
    const progressBarContainer = document.getElementById('progressBarContainer');
    const progressBar = document.getElementById('progressBar');
    const fileProgressContainer = document.getElementById('fileProgressContainer');
    const messageArea = document.getElementById('messageArea');
    const messageContent = document.getElementById('messageContent');
    const checkforupdate = document.getElementById('checkforupdate');
		
	function startUpdating(text) {
		//checkInternetConnection3();
		updateProgressBarVisibility(true); // إظهار شريط التقدم عند بدء التحديث
		checkforupdate.innerHTML = '<svg fill="currentColor" class="w-6 h-6 mr-1" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="_x33_d"><path d="M12,24L1,19.7V12h2v6.3l9,3.5l9-3.5V12h2v7.7L12,24z M19,17h-2v-2.4c-2.5,2.1-7.1,4-11.6,0.2l1.3-1.5 c3.9,3.3,7.6,1,9.1-0.2H13v-2h6V17L19,17z M23,12h-2V6.5l-9,3.7L3,6.5V12H1V4.3L12,0l11,4.3V12z M4.6,5L12,8l7.4-3L12,2L4.6,5z"/></g></svg>' + text;
		document.getElementById('updateAvailableMessage').style.display = 'none';
		document.getElementById('startUpdateDiv').style.display = '';
    }
	
	function showMessage(type, message) {
		bdy = type + ' - ' + message;
		alert(bdy);
		messageArea.style.display = 'block';
		messageContent.className = `message ${type}`;
		messageContent.textContent = message;
	}
	
	function updateProgressBarVisibility(visible) {
		progressBarContainer.style.display = visible ? 'block' : 'none';
	}
	
	function updateOverallProgress(percentage) {
		progressBar.style.width = percentage + '%';
	}
	
	function updateFileProgress(fileName, percentage) {
		let fileProgressItem = document.getElementById(`progress-${fileName}`);
		if (!fileProgressItem) {
			fileProgressItem = document.createElement('div');
			fileProgressItem.id = `progress-${fileName}`;
			fileProgressItem.className = 'fileProgressItem';
			fileProgressContainer.appendChild(fileProgressItem);
		}
		fileProgressItem.textContent = `${fileName}: ${percentage}%`;
	}

    function updateFileStatus(fileName, statusText) {
		let fileProgressItem = document.getElementById(`progress-${fileName}`);
		if (fileProgressItem) {
			fileProgressItem.textContent = `${fileName}: ${statusText}`;
		}
	}
	
	function disableUpdateButton(disabled) {
		//alert(disabled);
		clearTimeout(btnTimer);
		//const btn = document.getElementById('checkforupdate');
		
		if(disabled) {
			checkforupdate.disabled = true;
			btnTimer = setTimeout(() => {
				checkforupdate.style.opacity = 0.5;
				//checkforupdate.innerHTML = 'جاري التحقق...';
			}, 200); // تأخير 200ms لتجنب الوميض
		} else {
			checkforupdate.disabled = false;
			checkforupdate.style.opacity = 1;
			checkforupdate.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 mr-1"><path d="M3 10V18C3 19.1046 3.89543 20 5 20H12M3 10V6C3 4.89543 3.89543 4 5 4H19C20.1046 4 21 4.89543 21 6V10M3 10H21M21 10V13" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.5 15L17.5 21M17.5 21L20 18.5M17.5 21L15 18.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="6" cy="7" r="1"/><circle cx="9" cy="7" r="1"/></svg>Start Update';
		}
	}
	
	// إضافة في checkForUpdates()
	window.addEventListener('beforeunload', () => {
		disableUpdateButton(false);
	});
	
	async function checkInternetConnection(currentVersionNumber, currentReleaseDate, accessToken) {
		//alert(currentVersionNumber);
		document.getElementById('waitMessage').style.display = ''; // إظهار رسالة الانتظار في البداية
		document.getElementById('checkforupdate').style.display = 'none';
		document.getElementById('checkforupdate2').style.display = 'none';
		document.getElementById('offlineMessage').style.display = 'none';
		document.getElementById('noUpdateMessage').style.display = 'none'; // إخفاء رسالة "لا يوجد تحديث" في البداية
		document.getElementById('updateAvailableMessage').style.display = 'none'; // إخفاء رسالة "تحديث متوفر" في البداية

		try {
			// فحص الاتصال بالإنترنت (باستخدام نفس الرابط)
			await fetch('https://github.com/socri007/stopwindowsupdates', {
				mode: 'no-cors'
			});

			console.log('الاتصال بالإنترنت جيد - جاري التحقق من التحديثات من GitHub API...');

			// استدعاء GitHub Releases API للحصول على أحدث إصدار
			const response = await fetch('https://api.github.com/repos/socri007/stopwindowsupdates/releases/latest', {
				headers: {
					'Authorization': `token ${accessToken}`
				}
			});
			//const response = await fetch('https://api.github.com/repos/socri007/stopwindowsupdates/releases/latest');
			if (!response.ok) {
				throw new Error(`فشل استدعاء GitHub API: ${response.status} ${response.statusText}`);
			}
			const latestRelease = await response.json();

			const latestVersionNumber = latestRelease.tag_name; // استخراج رقم الإصدار من tag_name
			const latestReleaseDateRaw = new Date(latestRelease.published_at); // استخراج تاريخ الإصدار ككائن Date
			
			// تنسيق تاريخ أحدث إصدار إلى YYYY-MM-DD
			const latestReleaseDate = formatDateToYYYYMMDD(latestReleaseDateRaw);

			console.log('أحدث إصدار من GitHub API:', latestRelease); // عرض بيانات API في الكونسول
			console.log('رقم أحدث إصدار:', latestVersionNumber);
			console.log('تاريخ أحدث إصدار:', latestReleaseDate);

			// مقارنة الإصدارات والتواريخ
			if (currentVersionNumber && currentReleaseDate) {
				//alert(currentVersionNumber);
				const currentReleaseDateObj = new Date(currentReleaseDate); // تحويل تاريخ الإصدار الحالي إلى كائن Date للمقارنة

				if (latestVersionNumber && latestReleaseDate) {
					if (latestVersionNumber > currentVersionNumber || latestReleaseDate > currentReleaseDateObj) {
						
						// يوجد إصدار جديد
						console.log('يتوفر إصدار جديد!');
						document.getElementById('waitMessage').style.display = 'none';
						document.getElementById('checkforupdate2').style.display = 'none';
						document.getElementById('checkforupdate').style.display = '';
						document.getElementById('offlineMessage').style.display = 'none';
						document.getElementById('updateAvailableMessage').style.display = ''; // إظهار رسالة "تحديث متوفر"
						
						document.getElementById('currentVersionNumberDiv').textContent = currentVersionNumber;
						document.getElementById('currentReleaseDateDiv').textContent = currentReleaseDate;
						
						document.getElementById('newVersionNumberDiv').textContent = latestVersionNumber;
						document.getElementById('newReleaseDateDiv').textContent = latestReleaseDate;
						
					} else {
						// لا يوجد إصدار جديد
						console.log('البرنامج هو أحدث إصدار.');
						document.getElementById('waitMessage').style.display = 'none';
						document.getElementById('checkforupdate2').style.display = 'none';
						document.getElementById('checkforupdate').style.display = '';
						//document.getElementById('downloading').style.display = 'block';
						document.getElementById('offlineMessage').style.display = 'none';
						document.getElementById('noUpdateMessage').style.display = ''; // إظهار رسالة "لا يوجد تحديث"
						document.getElementById('updateAvailableMessage').style.display = 'none'; // إخفاء رسالة "تحديث متوفر"
						
						document.getElementById('currentVersionNumberDiv2').textContent = currentVersionNumber;
						document.getElementById('currentReleaseDateDiv2').textContent = currentReleaseDate;
					}
				} else {
					// فشل استخراج معلومات الإصدار من API (قد يكون هناك مشكلة في تنسيق البيانات في GitHub Releases)
					console.warn('تحذير: لم يتم استخراج معلومات الإصدار بشكل صحيح من GitHub API. يتم التعامل على أنه لا يوجد تحديث.');
					document.getElementById('offlineMessageSVG').innerHTML = '<svg stroke="#000000" viewBox="0 0 24 24" style="width: 100px; height: 100px;" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/><g id="SVGRepo_iconCarrier"> <path d="M15.5 9L15.6716 9.17157C17.0049 10.5049 17.6716 11.1716 17.6716 12C17.6716 12.8284 17.0049 13.4951 15.6716 14.8284L15.5 15" stroke="#000000" stroke-width="1.5" stroke-linecap="round"/> <path d="M13.2942 7.17041L12.0001 12L10.706 16.8297" stroke="#000000" stroke-width="1.5" stroke-linecap="round"/> <path d="M8.49994 9L8.32837 9.17157C6.99504 10.5049 6.32837 11.1716 6.32837 12C6.32837 12.8284 6.99504 13.4951 8.32837 14.8284L8.49994 15" stroke="#000000" stroke-width="1.5" stroke-linecap="round"/> <path d="M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8" stroke-width="1.5" stroke-linecap="round"/></g></svg>';
					document.getElementById('offlineMessageTitle').innerHTML = 'Warning, server parsing failed';
					document.getElementById('offlineMessageContent').innerHTML = 'Version information was not extracted correctly from the server<br/>If the problem persists, please close this window and try again.';
					document.getElementById('waitMessage').style.display = 'none';
					document.getElementById('checkforupdate2').style.display = 'none';
					document.getElementById('checkforupdate').style.display = '';
					//document.getElementById('downloading').style.display = 'block';
					document.getElementById('offlineMessage').style.display = 'none';
					document.getElementById('noUpdateMessage').style.display = ''; // عرض رسالة "لا يوجد تحديث" كاحتياط
					document.getElementById('updateAvailableMessage').style.display = 'none';
				}


			} else {
				console.warn('تحذير: لم يتم توفير معلومات الإصدار الحالي للبرنامج. يتم التعامل على أنه لا يوجد تحديث.');
				/*
				document.getElementById('waitMessage').style.display = 'none';
				document.getElementById('checkforupdate2').style.display = 'none';
				document.getElementById('checkforupdate').style.display = '';
				//document.getElementById('downloading').style.display = 'block';
				document.getElementById('offlineMessage').style.display = 'none';
				document.getElementById('noUpdateMessage').style.display = ''; // عرض رسالة "لا يوجد تحديث" كاحتياط
				document.getElementById('updateAvailableMessage').style.display = 'none';
				*/
				document.getElementById('offlineMessageSVG').innerHTML = '<svg stroke="#000000" viewBox="0 0 24 24" style="width: 100px; height: 100px;" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/><g id="SVGRepo_iconCarrier"> <path d="M15.5 9L15.6716 9.17157C17.0049 10.5049 17.6716 11.1716 17.6716 12C17.6716 12.8284 17.0049 13.4951 15.6716 14.8284L15.5 15" stroke="#000000" stroke-width="1.5" stroke-linecap="round"/> <path d="M13.2942 7.17041L12.0001 12L10.706 16.8297" stroke="#000000" stroke-width="1.5" stroke-linecap="round"/> <path d="M8.49994 9L8.32837 9.17157C6.99504 10.5049 6.32837 11.1716 6.32837 12C6.32837 12.8284 6.99504 13.4951 8.32837 14.8284L8.49994 15" stroke="#000000" stroke-width="1.5" stroke-linecap="round"/> <path d="M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8" stroke-width="1.5" stroke-linecap="round"/></g></svg>';
				document.getElementById('offlineMessageTitle').innerHTML = 'Warning, server parsing failed';
				document.getElementById('offlineMessageContent').innerHTML = 'No current software version information is provided<br/>If the problem persists, please close this window and try again.';
				document.getElementById('waitMessage').style.display = 'none';
				document.getElementById('checkforupdate').style.display = 'none';
				document.getElementById('checkforupdate2').style.display = '';
				document.getElementById('offlineMessage').style.display = ''; // إظهار رسالة عدم الاتصال
				document.getElementById('noUpdateMessage').style.display = 'none';
				document.getElementById('updateAvailableMessage').style.display = 'none';
			}


		} catch (error) {

			// إظهار الرسالة المناسبة بعد 3 ثوانٍ
			setTimeout(function() {
				// التحقق من وجود رمز الخطأ
				const errorCode = error.response ? error.response.status : null;

				// تحديد الرسالة بناءً على رمز الخطأ
				let errorMessage = '';
				if (errorCode === 403 || errorCode === 400 || errorCode === 500) {
					document.getElementById('offlineMessageSVG').innerHTML = '<svg fill="#000000" width="100px" height="100px" viewBox="0 0 36 36" version="1.1"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/><g id="SVGRepo_iconCarrier"> <title>server-outline-alerted</title> <path class="clr-i-outline--alerted clr-i-outline-path-1--alerted" d="M15.2,27.8c0,1.5,1.2,2.8,2.8,2.8s2.8-1.2,2.8-2.8S19.5,25,18,25S15.2,26.2,15.2,27.8z M19.2,27.8c0,0.7-0.6,1.2-1.2,1.2s-1.2-0.6-1.2-1.2s0.6-1.2,1.2-1.2S19.2,27.1,19.2,27.8z"/><rect class="clr-i-outline--alerted clr-i-outline-path-2--alerted" x="13" y="21" width="10" height="1.6"/><polygon class="clr-i-outline--alerted clr-i-outline-path-3--alerted" points="21.3,6 12,6 12,7.6 20.4,7.6"/><path class="clr-i-outline--alerted clr-i-outline-path-4--alerted" d="M12,11.6h6.6c0-0.6,0.2-1.1,0.4-1.6h-7V11.6z"/><path class="clr-i-outline--alerted clr-i-outline-path-5--alerted" d="M26,15.4V32H10V4h12.5l1.1-2H9.5C8.7,2,8,2.7,8,3.5V34h20V15.4H26z"/><path class="clr-i-outline--alerted clr-i-outline-path-6--alerted clr-i-alert" d="M26.9,1.1L21.1,11c-0.4,0.6-0.2,1.4,0.3,1.8c0.2,0.2,0.5,0.2,0.8,0.2h11.5c0.7,0,1.3-0.5,1.3-1.2c0-0.3-0.1-0.5-0.2-0.8l-5.7-9.9c-0.4-0.6-1.1-0.8-1.8-0.5C27.1,0.8,27,1,26.9,1.1z"/> <rect x="0" y="0" width="36" height="36" fill-opacity="0"/> </g></svg>';
					document.getElementById('offlineMessageTitle').innerHTML = "Oops, Looks Like There's a Problem";
					document.getElementById('offlineMessageContent').innerHTML = 'There is a problem with the server.<br/>If the problem persists, please close this window and try again.';
					document.getElementById('waitMessage').style.display = 'none';
					document.getElementById('checkforupdate').style.display = 'none';
					document.getElementById('checkforupdate2').style.display = '';
					document.getElementById('offlineMessage').style.display = ''; // إظهار رسالة الخطأ
					document.getElementById('noUpdateMessage').style.display = 'none';
					document.getElementById('updateAvailableMessage').style.display = 'none';
				} else {
					document.getElementById('offlineMessageSVG').innerHTML = '<svg fill="currentColor" viewBox="0 0 36 36" style="width: 100px; height: 100px;" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path class="clr-i-outline clr-i-outline-path-1" d="M18,24.42a4,4,0,1,0,4,4A4,4,0,0,0,18,24.42Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,18,30.42Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M26.21,21.85a1,1,0,0,0-.23-1.4,13.56,13.56,0,0,0-5-2.23l3.87,3.87A1,1,0,0,0,26.21,21.85Z"></path><path class="clr-i-outline clr-i-outline-path-3" d="M18.05,10.72a20.88,20.88,0,0,0-4.16.43l1.74,1.74a19,19,0,0,1,2.42-.17A18.76,18.76,0,0,1,28.64,16a1,1,0,0,0,1.12-1.65A20.75,20.75,0,0,0,18.05,10.72Z"></path><path class="clr-i-outline clr-i-outline-path-4" d="M33.55,8.2A28.11,28.11,0,0,0,8.11,5.36L9.69,6.93A26,26,0,0,1,32.45,9.87a1,1,0,0,0,1.1-1.67Z"></path><path class="clr-i-outline clr-i-outline-path-5" d="M1.84,4.75,4.27,7.18c-.62.34-1.23.7-1.83,1.1A1,1,0,1,0,3.56,9.94C4.26,9.47,5,9,5.74,8.65l3.87,3.87A20.59,20.59,0,0,0,6.23,14.4,1,1,0,0,0,7.36,16a18.82,18.82,0,0,1,3.77-2l4.16,4.16A13.51,13.51,0,0,0,10,20.55a1,1,0,0,0,1.18,1.61A11.52,11.52,0,0,1,17,20l10.8,10.8,1.41-1.41-26-26Z"></path><rect x="0" y="0" width="36" height="36" fill-opacity="0"/></svg>';
					document.getElementById('offlineMessageTitle').innerHTML = "Oops, Looks Like There's No Internet Connection";
					document.getElementById('offlineMessageContent').innerHTML = 'Please check your internet connection and try again';
					document.getElementById('waitMessage').style.display = 'none';
					document.getElementById('checkforupdate').style.display = 'none';
					document.getElementById('checkforupdate2').style.display = '';
					document.getElementById('offlineMessage').style.display = ''; // إظهار رسالة عدم الاتصال
					document.getElementById('noUpdateMessage').style.display = 'none';
					document.getElementById('updateAvailableMessage').style.display = 'none';
				}
				
			}, 3000);
		}
	}
	
	// دالة لتنسيق التاريخ إلى YYYY-MM-DD
	function formatDateToYYYYMMDD(date) {
		const year = date.getFullYear();
		const month = String(date.getMonth() + 1).padStart(2, '0'); // شهر يبدأ من 0، نضيف 1 وننسق برقمين
		const day = String(date.getDate()).padStart(2, '0'); // يوم ننسقه برقمين

		return `${year}-${month}-${day}`;
	}

	// تمرير القيم إلى دالة JavaScript
	//checkInternetConnection(versionNumber, releaseDate);
	
	function checkConnect() {
		document.getElementById('updateAvailableMessage').style.display = 'none';
		document.getElementById('offlineMessage').style.display = 'none';
		document.getElementById('waitMessage').style.display = 'block';
		//checkInternetConnection(versionNumber, releaseDate);
		const message = JSON.stringify({
			type: 'button.click', // نوع الرسالة
			target: 'checkInternetConnection', // معرف الزر
			jmessage: 'startCheckInternetConnection3' // الرسالة المراد عرضها
		});
		console.log("message: " + message);
		//alert(message);
		window.chrome.webview.postMessage(message); // إرسال الرسالة إلى C#
	}
	
	function checkInternetConnection3() {
        fetch('https://github.com/socri007/stopwindowsupdates', { // رابط فحص اتصال أكثر موثوقية وديناميكية
            mode: 'no-cors'
        })
        .then(response => {
			//alert('yes internet');
            // الاتصال جيد
            console.log('الاتصال بالإنترنت جيد - تم تنفيذ كتلة THEN'); // رسالة كونسول للتأكيد
            
			document.getElementById('waitMessage').style.display = 'none';
			document.getElementById('checkforupdate2').style.display = 'none';
			document.getElementById('checkforupdate').style.display = '';
            document.getElementById('updateAvailableMessage').style.display = 'block'; // إظهار الفورم
            document.getElementById('offlineMessage').style.display = 'none'; // إخفاء div عدم الاتصال
            
        })
        .catch(error => {
            // الاتصال مقطوع
            console.log('الاتصال بالإنترنت مقطوع - تم تنفيذ كتلة CATCH'); // رسالة كونسول للتأكيد
			/*
            if (document.getElementById('updateAvailableMessage').style.display !== 'none') {
                document.getElementById('updateAvailableMessage').style.display = 'none'; // إخفاء الفورم
                document.getElementById('offlineMessage').style.display = 'block'; // إظهار div عدم الاتصال
            }
			*/
			setTimeout(function() {
				//alert('no internet');
				document.getElementById('waitMessage').style.display = 'none';
				document.getElementById('checkforupdate').style.display = 'none';
				document.getElementById('checkforupdate2').style.display = '';
				document.getElementById('updateAvailableMessage').style.display = 'none'; // إخفاء الفورم
				document.getElementById('offlineMessage').style.display = 'block'; // إظهار div عدم الاتصال
				
			}, 3000); // التأخير بالمللي ثانية (3000 مللي ثانية = 3 ثواني)
        });
		
    }
	
	// فحص الاتصال كل 5 ثواني (5000 مللي ثانية)
    //setInterval(checkInternetConnection, 5000);
	
    // فحص الاتصال عند تحميل الصفحة لأول مرة
    //checkInternetConnection();
		
	// دالة مُوحّدة لإرسال الرسائل مع معالجة الأخطاء
    function sendMessage(eventType, targetId, message) { // قيمة افتراضية للرسالة
        try {
            const messageObject = {
                type: eventType,
                target: targetId,
                jmessage: message // إضافة الرسالة الاختيارية
            };
            console.log(JSON.stringify(messageObject, null, 2)); // طباعة JSON للتأكد من صحته
            window.chrome.webview.postMessage(JSON.stringify(messageObject));
        } catch (error) {
            console.error("خطأ في إرسال الرسالة:", error);
        }
    }
	
	// إضافة معالجات أحداث الضغط على الأزرار (التعديل الصحيح)
	const changelog = document.getElementById('changelog');
	
	if (changelog) {
		changelog.addEventListener('click', function() {
			const message = JSON.stringify({
				type: 'button.click', // نوع الرسالة
				target: 'changelog', // معرف الزر
				jmessage: 'startchangelog' // الرسالة المراد عرضها
			});
			console.log("message: " + message);
			//alert(message);
			window.chrome.webview.postMessage(message); // إرسال الرسالة إلى C#
		});
	}
	
	// إضافة معالجات أحداث الضغط على الأزرار (التعديل الصحيح)
	//const checkforupdate = document.getElementById('checkforupdate');
	
	if (checkforupdate) {
		checkforupdate.addEventListener('click', function() {
			const message = JSON.stringify({
				type: 'button.click', // نوع الرسالة
				target: 'checkforupdate', // معرف الزر
				jmessage: 'startcheckforupdate' // الرسالة المراد عرضها
			});
			console.log("message: " + message);
			//alert(message);
			window.chrome.webview.postMessage(message); // إرسال الرسالة إلى C#
		});
	}
	
      const themeToggleColorBtn = document.getElementById("buttonColoredLite");
      themeToggleColorBtn.addEventListener("click", function () {
        /*
         	let cColor = localStorage.getItem('color');
         	if (!cColor || (cColor !== 'colored' && cColor !== 'lite')) {
         		cColor = 'colored'; // Set a default value if not found
         	}
         	setColors(cColor === 'lite' ? 'colored' : 'lite');
         	*/

        // toggle icons inside button
        const cColor = localStorage.getItem("color");
        //window.localStorage.setItem('color', color)
        //alert(cColor);
        if (cColor != "colored" && cColor != "lite") {
          //alert('new color: colored');
          setColors("colored");
        } else {
          if (cColor == "lite") {
            //alert('color: colored');
            setColors("colored");
          } else if (cColor == "colored") {
            //alert('color: lite');
            setColors("lite");
          }
        }
      });

      //setColors('colored'); - setColors('lite');
      const setColors = (color) => {
        //alert(color);
        const themeToggleColoredIcon = document.getElementById("buttonColored-icon");
        const themeToggleNormalIcon = document.getElementById("buttonLite-icon");
        const iHeaderDiv = document.getElementById("iHeader");
        const listViewAllDiv = document.getElementById("listViewAllDiv"); // Replace with your element's ID

        if (themeToggleColoredIcon && themeToggleNormalIcon) {
          // Check if elements exist
          if (color == "colored") {
            themeToggleNormalIcon.classList.remove("hidden");
            themeToggleColoredIcon.classList.add("hidden");
            //themeToggleNormalIcon.classList.toggle('hidden', color === 'colored');
            //themeToggleColoredIcon.classList.toggle('hidden', color === 'lite');
          } else if (color == "lite") {
            themeToggleColoredIcon.classList.remove("hidden");
            themeToggleNormalIcon.classList.add("hidden");
            //themeToggleNormalIcon.classList.toggle('hidden', color === 'colored');
            //themeToggleColoredIcon.classList.toggle('hidden', color === 'lite');
          }
        } else {
          console.error("One or both icon elements not found!");
        }

        if (themeToggleButton) {
          themeToggleButton.addEventListener("click", toggleTheme);
        }

        let isDark = window.localStorage.getItem("dark");

        // التحقق من وجود القيمة وتحويلها إلى قيمة منطقية
        if (isDark !== null) {
          isDark = JSON.parse(isDark);
        } else {
          isDark = false; // قيمة افتراضية إذا لم تكن موجودة
        }

        //alert(color + ' - ' + isDark); // الآن يتم عرض قيمة منطقية

        //toggleShadow(color, isDark);

        const root = document.documentElement;
        root.style.setProperty("--color-primary-000", `var(--color-${color}-000)`); // primary-000
        root.style.setProperty("--color-primary-100", `var(--color-${color}-100)`); // primary-100
        root.style.setProperty("--color-primary-200", `var(--color-${color}-200)`); // primary-200
        root.style.setProperty("--color-primary-220", `var(--color-${color}-220)`); // primary-220
        root.style.setProperty("--color-primary-222", `var(--color-${color}-222)`); // primary-222
        root.style.setProperty("--color-primary-202", `var(--color-${color}-202)`); // primary-202
        root.style.setProperty("--color-primary-002", `var(--color-${color}-002)`); // primary-002
        root.style.setProperty("--color-primary-300", `var(--color-${color}-300)`); // primary-300
        root.style.setProperty("--color-primary-400", `var(--color-${color}-400)`); // primary-400
        root.style.setProperty("--color-primary-440", `var(--color-${color}-440)`); // primary-440
        root.style.setProperty("--color-primary-444", `var(--color-${color}-444)`); // primary-444
        root.style.setProperty("--color-primary-404", `var(--color-${color}-404)`); // primary-404
        root.style.setProperty("--color-primary-500", `var(--color-${color}-500)`); // primary-500
        root.style.setProperty("--color-primary-600", `var(--color-${color}-600)`); // primary-600
        root.style.setProperty("--color-primary-700", `var(--color-${color}-700)`); // primary-700
        root.style.setProperty("--color-primary-770", `var(--color-${color}-770)`); // primary-770
        root.style.setProperty("--color-primary-007", `var(--color-${color}-007)`); // primary-007
        root.style.setProperty("--color-primary-707", `var(--color-${color}-707)`); // primary-707
        root.style.setProperty("--color-primary-800", `var(--color-${color}-800)`); // primary-800
        root.style.setProperty("--color-primary-880", `var(--color-${color}-880)`); // primary-880
        root.style.setProperty("--color-primary-888", `var(--color-${color}-888)`); // primary-888
        root.style.setProperty("--color-primary-808", `var(--color-${color}-808)`); // primary-808
        root.style.setProperty("--color-primary-008", `var(--color-${color}-008)`); // primary-008
        root.style.setProperty("--color-primary-900", `var(--color-${color}-900)`); // primary-900
        root.style.setProperty("--color-primary-990", `var(--color-${color}-990)`); // primary-990
        root.style.setProperty("--color-primary-999", `var(--color-${color}-999)`); // primary-999
        root.style.setProperty("--color-primary-1000", `var(--color-${color}-1000)`); // primary-1000
        root.style.setProperty("--color-primary-1100", `var(--color-${color}-1100)`); // primary-1100
        root.style.setProperty("--color-primary-1200", `var(--color-${color}-1200)`); // primary-1200
        root.style.setProperty("--color-primary-1300", `var(--color-${color}-1300)`); // primary-1300
        root.style.setProperty("--color-primary-1400", `var(--color-${color}-1400)`); // primary-1400
        root.style.setProperty("--color-primary-1500", `var(--color-${color}-1500)`); // primary-1500
        root.style.setProperty("--color-primary-1600", `var(--color-${color}-1600)`); // primary-1600
        root.style.setProperty("--color-primary-1700", `var(--color-${color}-1700)`); // primary-1700
        this.selectedColor = color;
        window.localStorage.setItem("color", color);
        const currentTheme = JSON.parse(window.localStorage.getItem("dark")) || false; // احصل على الوضع الحالي
        newTheme(currentTheme, color); // إرسال الوضع واللون
        //
      };

      const setup = () => {
        const getTheme = () => {
          if (window.localStorage.getItem("dark")) {
		  //document.getElementById("nBody").textContent = (JSON.parse(window.localStorage.getItem("dark")));
            return JSON.parse(window.localStorage.getItem("dark"));
          }

          return !!window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
        };

        const setTheme = (value) => {
          window.localStorage.setItem("dark", value);
        };

        const getColor = () => {
          if (window.localStorage.getItem("color")) {
            return window.localStorage.getItem("color");
          }
          return "colored";
        };
        /*
                const updateBarChart = (on) => {
                    const data = {
                        data: randomData(),
                        backgroundColor: "rgb(207, 250, 254)",
                    };
                    if (on) {
                        barChart.data.datasets.push(data);
                        barChart.update();
                    } else {
                        barChart.data.datasets.splice(1);
                        barChart.update();
                    }
                };
				*/
        return {
          loading: true,
          isDark: getTheme(),
          toggleTheme() {
            this.isDark = !this.isDark;
            setTheme(this.isDark);
            // استدعاء toggleShadow هنا أيضاً عند تغيير الوضع المظلم
            //toggleShadow(getColor(), this.isDark); // هذا هو التعديل المهم
          },
          setLightTheme() {
            this.isDark = false;
            setTheme(this.isDark);
            // استدعاء toggleShadow هنا أيضاً عند تغيير الوضع المظلم
            //toggleShadow(getColor(), this.isDark); // هذا هو التعديل المهم
          },
          setDarkTheme() {
            this.isDark = true;
            setTheme(this.isDark);
            // استدعاء toggleShadow هنا أيضاً عند تغيير الوضع المظلم
            //toggleShadow(getColor(), this.isDark); // هذا هو التعديل المهم
          },
          color: getColor(),
          selectedColor: "colored",
          setColors,
        };
      };

      // دالة لتبديل الوضع (Dark/Light Mode) وتحديث التخزين المحلي
      const toggleTheme = () => {
        const currentTheme = JSON.parse(window.localStorage.getItem("dark")) || false; // الوضع الحالي
        const isNowDarkTheme = !currentTheme; // عكس الوضع
        //newTheme(isNowDarkTheme); // استدعاء newTheme مع السياق الصحيح

        const currentColor = window.localStorage.getItem("color") || "colored"; // احصل على اللون الحالي
        newTheme(isNowDarkTheme, currentColor); // إرسال الوضع واللون
        //alert(currentColor);
        //newTheme(isNowDarkTheme, currentColor); // إرسال الوضع واللون
        //window.localStorage.setItem("dark", JSON.stringify(isNowDarkTheme)); // تخزين الوضع الجديد
      };
	  
      function newTheme(newThemeValue, colorValue) {
        //alert(newThemeValue);
        if (newThemeValue === true || newThemeValue === false) {
          // تحقق من أن القيمة منطقية
          this.isDark = newThemeValue; // تحديث حالة الوضع الليلي/النهاري
          window.localStorage.setItem("dark", JSON.stringify(this.isDark)); // تخزين القيمة في التخزين المحلي
          //setColors("colored"); // تخزين اللون الحالي

          // الحصول على اللون الحالي
          const currentColor = window.localStorage.getItem("color") || "colored";
          // إرسال رسالة إلى backBody
          if (window.chrome && window.chrome.webview) {
            window.chrome.webview.postMessage(
              JSON.stringify({
                type: "theme.Changed",
                value: newThemeValue,
                color: currentColor,
              })
            );
          } else {
            console.error("chrome.webview غير متوفر. قد تكون الصفحة لا تعمل داخل WebView2.");
          }
          // هنا يمكنك إضافة تحديثات أخرى للتنسيق، مثل تغيير الألوان
        } else {
          console.error("قيمة غير صحيحة للوضع الليلي/النهاري:", newThemeValue);
        }
      }

      // إضافة مستمع للنقر على زر تبديل الوضع
      const themeToggleButton = document.getElementById("buttonTheme");
      if (themeToggleButton) {
        themeToggleButton.addEventListener("click", toggleTheme);
      } else {
        console.error("Theme toggle button not found!");
      }

      // تحديد جميع العناصر التي تحمل الكلاس "interactive-element"
      const interactiveElements = document.querySelectorAll(".interactive-element");

      // المرور على كل عنصر من العناصر المحددة
      interactiveElements.forEach((element) => {
        // إضافة مُستمع حدث "mousedown" (الضغط على زر الفأرة)
        element.addEventListener("mousedown", () => {
          // قراءة قيمة وضع الظلام من localStorage وتعيين قيمة افتراضية false إذا لم تكن موجودة
          const isDarkMode = JSON.parse(window.localStorage.getItem("dark")) || false;

          // الحصول على قيم المتغيرات CSS المخصصة (Custom Properties/CSS Variables)
          const activeBg = getComputedStyle(element).getPropertyValue("--active-bg"); // لون الخلفية في الوضع الفاتح
          const activeBgDark = getComputedStyle(element).getPropertyValue("--active-bg-dark"); // لون الخلفية في الوضع الداكن

          // تعيين لون الخلفية بناءً على وضع الظلام، مع التحقق من وجود قيم المتغيرات
          element.style.setProperty("background-color", isDarkMode && activeBgDark ? activeBgDark : activeBg);

          // شرح إضافي:
          // العامل الثلاثي (isDarkMode && activeBgDark ? activeBgDark : activeBg) يعمل كالتالي:
          // 1. يتم التحقق أولاً من قيمة isDarkMode، ثم يتم التحقق من وجود قيمة ل activeBgDark.
          // 2. إذا كان كلاهما صحيحًا (وضع الظلام مُفعَّل والمتغير موجود)، يتم استخدام قيمة activeBgDark.
          // 3. إذا كان أحدهما أو كلاهما خطأ، يتم استخدام قيمة activeBg.
          // هذا يمنع حدوث أخطاء إذا لم يتم تعريف المتغير --active-bg-dark في CSS.
        });

        // إضافة مُستمع حدث "mouseup" (رفع زر الفأرة)
        element.addEventListener("mouseup", () => {
          // إزالة خاصية لون الخلفية لإعادة اللون الأصلي المحدد في CSS
          element.style.removeProperty("background-color");

          // شرح إضافي:
          // استخدام removeProperty('background-color') هو الأفضل هنا، لأنه يعيد لون الخلفية إلى القيمة المُحددة في CSS (سواء كانت من خلال Tailwind CSS أو أي أنماط أخرى).
          // تعيين backgroundColor = '' له نفس التأثير في معظم الحالات، ولكنه قد لا يعمل بشكل صحيح في بعض الحالات المعقدة.
        });

        // إضافة مُستمع حدث "mouseleave" (خروج مؤشر الفأرة من العنصر)
        element.addEventListener("mouseleave", () => {
          // إزالة خاصية لون الخلفية لإعادة اللون الأصلي المحدد في CSS (نفس السبب كما في mouseup)
          element.style.removeProperty("background-color");
        });
      });

      // تعريف دالة مُوحّدة لإرسال الرسائل إلى WebView2 مع معالجة الأخطاء.
      function sendMessage(eventType, targetId, message) {
        // الدالة تقبل ثلاثة معلمات: نوع الحدث، معرف الهدف، والرسالة (قيمة افتراضية للرسالة تم التعليق عليها).
        try {
          // محاولة إرسال الرسالة:

          // إنشاء كائن الرسالة.
          const messageObject = {
            type: eventType, // نوع الحدث (مثل 'mouse.over'، 'button.click'، 'select.change', 'checkbox.change', 'radio.change' إلخ.).
            target: targetId, // معرف العنصر الهدف (مثل 'buttonClose'، 'checkupdaterunningeveryseconds'، 'checkrunningupper' إلخ.).
            jmessage: message, // الرسالة الاختيارية (يمكن أن تحتوي على معلومات إضافية مثل النص الأصلي للزر أو قيمة <select> أو حالة <checkbox> أو معلومات زر الراديو).
          };

          // تسجيل الرسالة كـ JSON في وحدة التحكم (Console) للتأكد من صحتها قبل الإرسال.
          // يتم استخدام `JSON.stringify(messageObject, null, 2)` لتحويل الكائن إلى JSON مع تنسيق جميل (مسافات بادئة بمقدار 2).
          console.log(JSON.stringify(messageObject, null, 2));
          // إرسال الرسالة إلى تطبيق الـ WebView2 باستخدام `window.chrome.webview.postMessage()`.
          // يتم تحويل كائن الرسالة إلى JSON string قبل الإرسال.
          window.chrome.webview.postMessage(JSON.stringify(messageObject));
        } catch (error) {
          // في حالة حدوث خطأ أثناء محاولة إرسال الرسالة (مثلاً، إذا كان `window.chrome.webview` غير معرف):

          // التقاط الخطأ وتسجيله في وحدة التحكم (Console) مع رسالة خطأ وصفية.
          console.error("خطأ في إرسال الرسالة:", error);
          // هذا يساعد في تتبع المشاكل المتعلقة بإرسال الرسائل إلى WebView2.
        }
      }
      // انتهى تعريف دالة `sendMessage`.

      // استلام الرسائل من WebView2
      window.chrome.webview.addEventListener("message", (event) => {
        try {
          //const data = JSON.parse(event.data); // تحليل البيانات
          const data = JSON.parse(event.data);
          console.log("البيانات المستلمة:", data); // طباعة الكائن بالكامل للتأكد
        } catch (error) {
          console.error("خطأ في تحليل JSON:", error); // مهم جداً لكشف أي أخطاء
          console.error("البيانات المستلمة الخام:", event.data); // طباعة البيانات الخام للمساعدة في تصحيح الأخطاء
        }
      });

      function thisFocus(id) {
        const select = document.getElementById(id);
        select.focus();
      }
    </script>

    <!-- from node_modules -->
    <script src="build/js/tabs.js"></script>
  </body>
</html>
