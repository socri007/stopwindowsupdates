<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="build/css/css2.css" rel="stylesheet" />
    <script src="build/js/tailwindcss.cdn.3.4.16.js"></script>
    <link rel="stylesheet" href="build/css/tailwind.css" />
    <!--Regular Datatables CSS-->

    <style>
      /*Overrides for Tailwind CSS */
      /*Form fields */

      @font-face {
        font-family: "mybigtitlefont";
        src: url("../../fonts/NexaRustSlab-BlackShadow01.otf");
      }
      @font-face {
        font-family: "mybigtitlefontDark";
        src: url("../../fonts/Cairo-Black.ttf");
      }
      html {
        font-family: cairo, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        /* 1 */
        line-height: 1.5;
        /* 2 */
      }

      .inner {
        padding: 0px;
      }
      .inner .scanattemptsnumberUpper {
        margin: -12px 0px 0 0;
        font-size: 40px;
        font-family: mybigtitlefont;
        font-weight: bold;
        white-space: nowrap;
        padding: 0;
        letter-spacing: 0.02em; /* مسافة مُعتمدة على حجم الخط */
      }
      .inner .scanattemptsnumberLower {
        margin: -10px 0px 0px 0;
        font-size: 40px;
        font-family: mybigtitlefont;
        font-weight: bold;
        white-space: nowrap;
        padding: 0;
        letter-spacing: 0.02em; /* مسافة مُعتمدة على حجم الخط */
      }
      .inner .scanattemptsUpper {
        margin: -12px 0 -9px 0;
        font-size: 25px;
        font-family: cairo;
        font-weight: bold;
        text-align: right;
      }
      .inner .scanattemptsLower {
        margin: -87px 0 10px 0;
        font-size: 22px;
        font-family: cairo;
        font-weight: bold;
        text-align: right;
      }

      .table-responsive {
        max-height: 305px; /* تحديد ارتفاع أقصى للعنصر الحاوي */
        overflow-y: auto; /* إضافة تمرير عمودي عند تجاوز الارتفاع */
        overflow-x: auto; /* إضافة تمرير أفقي عند الحاجة */
        margin-top: 0px;
      }

      .table {
        width: 100%;
        border-collapse: collapse; /* دمج حدود الخلايا */
      }

      .table th,
      .table td {
        padding: 3px 10px;
        //border-right: 1px solid rgba(0, 0, 0, 0.19);
        white-space: nowrap; /* منع التفاف النص داخل الخلية */
      }
      .table thead tr.active th {
        background-color: #e9e9e9; /* لون خلفية رأس الجدول */
        position2: sticky; /* تثبيت رأس الجدول */
        top: 0;
        z-index: 1; /* التأكد من أن الرأس يظهر فوق المحتوى */
      }
      table {
        /* ... */
      }

      th {
        font-size: 16px; /* حجم الخط المطلوب */
        /* ... */
      }
      td {
        font-weight: 500;
        font-size: 16px; /* حجم الخط المطلوب */
        /* ... */
      }
      * {
        cursor: default;
        user-select: none;
      }

      .table td,
      .table th2 {
        padding: 0.45rem;
        vertical-align: top;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
      }

      .selected-row {
        background-color: #2196f3 !important;
        color: white;
        transition: background-color 0.3s ease; /* إضافة انتقال سلس للون الخلفية */
      }

      .table-header {
        background-color: #f0f0f0;
        padding: 10px;
        text-align: left;
        font-weight: bold;
      }

      .content-wrapper {
        margin-top: 35px; /* إضافة مسافة أعلى للابتعاد عن شريط التنقل */
      }

      .table-striped tbody tr:nth-of-type(odd) {
        //background-color: rgba(0, 0, 0, 0.05);
        //background-color: #F5F5F5;
      }

      tr.classRunning {
        background: #ff4982;
        color: #fff;
      }
      tr.classPending {
        background-color: #ffeaf1;
      }
      tr.classPause {
        background-color: #d9d9d9;
      }
      tr.class1Stopped {
        background-color: #e7f4fe;
        //color: #000;
      } //	background-color:#2196F3;
      tr.classRSS {
        background-color: #75f94d;
      }

      * {
        -webkit-user-select: none; /* Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
        user-select: none; /* معيار CSS */
      }
      .table th {
        /* ... أنماط أخرى ... */
        //transition: background-color 0.1s ease; /* إضافة انتقال سلس */
      }

      .table th:hover {
        background-color: #d1d1d1 !important; /* لون الخلفية عند التمرير */
      }

      .top-nav {
        z-index: 1;
        position: absolute;
        top: 0; /*43px */
        left: 1;
        margin-left: 0px;
        width: 100%; /* عرض كامل الصفحة */
        height2: 50px; /* ارتفاع المطلوب */
        background-color2: #e9e9e9; /* لون الخلفية */
        color: #000;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1); /* ظل خفيف */
        display: flex; /* عرض عناصر داخل الشريط بجانب بعض */
        align-items: center; /* محاذاة العناصر عموديا بالوسط */
        justify-content: space-between; /* توزيع العناصر بين المسافتين المتبقيتين */
        padding: 0px; /* مسافة داخلية */
      }

      /* أمثلة لعناصر داخل شريط التنقل (تعديل حسب الحاجة) */
      .top-nav a2 {
        color: #333;
        text-decoration: none;
        padding: 3px 10px 3px 10px;
      }

      .top-nav th:hover2 {
        background-color: #d1d1d1;
      }

      .top-nav {
        /* ... */
        display: flex;
      }

      .top-nav a2 {
        /* ... */
        flex-grow: 1;
      }

      .top-nav a:nth-child(3) {
        /* تخصيص العنصر الثالث */
        width2: 40%;
        text-align2: center;
      }
      .rounded-div {
        background-color: #fff0f5; /* أزرق فاتح */
        padding: 10px 4px 3px 4px; /* مساحة داخلية (اختياري) */
        border-top-left-radius: 15px; /* انحناء الزاوية العلوية اليسرى */
        border-top-right-radius: 15px; /* انحناء الزاوية العلوية اليمنى */
        /* أو اختصارًا: */
        /* border-radius: 15px 15px 0 0; */
        width: auto; /* عرض تلقائي ليناسب المحتوى */
        display: inline-block; /* مهم لضبط العرض بشكل صحيح */
        box-sizing: border-box; /* تضمين الحواف وال padding في عرض العنصر */
        overflow: hidden; /* منع أي محتوى من الخروج عن الحدود المنحنية */
      }

      .autostyle1 {
        text-align: right;
      }

      * {
        -webkit-user-select: none; /* Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
        user-select: none; /* معيار CSS */
      }
      * {
        cursor: default;
        user-select: none;
      }

      button,
      [role="button"] {
        cursor: default;
      }
      button,
      [type="button"] {
        cursor: default;
      }
      .noCursor {
        cursor: default;
      }

      .no-shadow {
        box-shadow: none;
      }

      .table-hover tbody tr {
        //color: var(--dattrback-100);
        //background-color: rgba(0, 0, 0, 0.075);
        //background-color: var(--dattrback-100); // #C7E3F9 #E7F4FE
      }

      .table-hover tbody tr:hover {
        color: var(--dattrtext-100);
        //background-color: rgba(0, 0, 0, 0.075);
        background-color: var(--dattrback-100); // #C7E3F9 #E7F4FE
      }

      :root {
        --dattrback-100: #c7e3f9;
        --red2-1: #ff4982;
        --red2-2: #e54174;
        --border-bottom-color: #d1d5db; /* gray-700 للوضع العادي */
      }

      .dark {
        //--dattrtext-100: #9ca3af;
		--dattrtext-100: #ccc;
        --dattrback-100: #000;
        --border-bottom-color: #3a3f55; /* gray-400 للوضع الداكن */
      }

      .darkdiv {
        margin-top: 0px;
        padding: 0px 1px 1px 1px;
        height: 18px;
      }
      .lightdiv {
        margin-top: 1px;
        margin-left: 2px;
        padding-top: 1px;
      }
      html,
      body {
        overflow: hidden; /* تعطيل التمرير */
        overflow: hidden !important;
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
      }
      html::-webkit-scrollbar,
      body::-webkit-scrollbar {
        display: none; /* إخفاء شريط التمرير في Chrome و Edge */
      }
      .flex-1.h-full.overflow-y-auto {
        /* استهداف الكلاسات المُحدَّدة */
        overflow: hidden; /* أو الأنماط الأخرى */
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      /* تأثير التلاشي */
      .table-row-fade {
        opacity: 0;
        transition: opacity 0.15s ease-in-out; /* تأثير تلاشي في 0.3 ثانية */
      }

      .table-row-fade-visible {
        opacity: 1;
      }
	  
	  
	  .dark body::-webkit-scrollbar {
		  background-color: #1f2937;
		}

		.dark body::-webkit-scrollbar-thumb {
		  background-color: #4b5563;
		}

		.dark body {
			scrollbar-color: #4b5563 #1f2937;
		}
    </style>
    <script src="build/dist/alpine.min.js" defer></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
    <script src="build/libs/jspdf.2.5.1.umd.min.js"></script>
    <script src="build/libs/jspdf.plugin.autotable.3.5.31.min.js"></script>
  </head>
  <body onmousedown="return false" onselectstart="return false" oncopy="return false" oncut="return false" scroll="no">
    <div x-data="setup()">
      <div class="flex h-screen antialiased text-gray-900 bg-primary-200 dark:bg-primary-1700 dark:text-400">
        <!-- Loading screen -->
        <div id="loadings" x-ref="loading" class="fixed inset-0 z-50 flex items-center justify-center text-2xl font-semibold text-white bg-gray-100 dark:bg-primary-1600 hidden">
          .....
        </div>
        <!-- Sidebar -->
        <div class="flex-1 h-full overflow-x-hidden overflow-y-auto">
          <!-- Main content -->
          <!-- Main content -->
          <main>
            <!-- Content header -->
            <!-- Content -->
            <div class="mt-0">
              <!-- State cards -->
              <!-- Charts -->
              <div class="grid grid-cols-1 pr-2 pl-2 pt-1 pb-1 space-y-8 lg:gap-8 lg:space-y-0 lg:grid-cols-1">
                <!-- Bar chart card -->
                <div id="listViewAllDiv" class="col-span-2aaaaaaa bg-primary-100 dark:bg-primary-1600 rounded-md shadow" x-data="{ isOn: false }">
                  <!-- Card header -->
                  <div class="flex items-center justify-between p-3">
                    <h4 class="text-lg font-bold text-gray-700 dark:text-gray-300">All Update Service Status Log</h4>
                    <div class="flex items-center space-x-2">
                      <button
                        id="clearalllist"
                        onclick="clearalllist();"
                        type="button"
                        class="text-gray-900 active:bg-purple-100 bg-purple-100 hover:bg-purple-200 border border-gray-200 font-medium rounded-md text-sm px-3 py-1 text-center inline-flex items-center dark:active:bg-gray-800 dark:hover:bg-gray-600 dark:text-gray-400 dark:bg-gray-700 dark:border-gray-700"
                      >
                        <!--<svg class="w-4 h-4 me-1 -ms-1 text-[#626890]" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="ethereum" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M311.9 260.8L160 353.6 8 260.8 160 0l151.9 260.8zM160 383.4L8 290.6 160 512l152-221.4-152 92.8z"></path></svg>-->
                        <svg class="w-6 h-6 me-1 -ms-1 text-[#64748B] dark:text-[#94A3B8]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                          <path
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M3 15v3c0 .5523.44772 1 1 1h10.5M3 15v-4m0 4h11M3 11V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v5M3 11h18m0 0v1M8 11v8m4-8v8m4-8v2m1.8956 5.9528 1.5047-1.5047m0 0 1.5048-1.5048m-1.5048 1.5048 1.4605 1.4604m-1.4605-1.4604-1.4604-1.4605"
                          />
                        </svg>
                        Clear
                      </button>
                      <button
                        id="exportalltopdf"
                        onclick="exportalltopdf();"
                        type="button"
                        class="text-sm px-3 py-1 text-gray-900 active:bg-purple-100 bg-purple-100 hover:bg-purple-200 border border-gray-200 font-medium rounded-md text-center inline-flex items-center dark:active:bg-gray-800 dark:hover:bg-gray-600 dark:text-gray-400 dark:bg-gray-700 dark:border-gray-700"
                      >
                        <!--<svg class="w-4 h-4 me-1 -ms-1 text-[#626890]" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="ethereum" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M311.9 260.8L160 353.6 8 260.8 160 0l151.9 260.8zM160 383.4L8 290.6 160 512l152-221.4-152 92.8z"></path></svg>-->
                        <svg fill="none" class="w-6 h-6 fill-[#64748B] dark:fill-[#94A3B8]" viewBox="0 0 52 52" style="margin-right: -32px;" xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="m49.83 32.45a1.43 1.43 0 0 0 -1.39-1.45h-12a1.43 1.43 0 0 0 -1.44 1.44v1.44a1.43 1.43 0 0 0 1.4 1.44h6.14l-11 11a1.42 1.42 0 0 0 0 2l1 1a1.54 1.54 0 0 0 1.09.45 1.32 1.32 0 0 0 .94-.38l11-11v6a1.43 1.43 0 0 0 1.43 1.44h1.53a1.43 1.43 0 0 0 1.47-1.4z"
                            />
                          </g>
                        </svg>
                        <svg class="w-6 h-6 text-[#64748B] dark:text-[#94A3B8]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                          <path
                            fill-rule="evenodd"
                            d="M9 2.221V7H4.221a2 2 0 0 1 .365-.5L8.5 2.586A2 2 0 0 1 9 2.22ZM11 2v5a2 2 0 0 1-2 2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2 2 2 0 0 0 2 2h12a2 2 0 0 0 2-2 2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2V4a2 2 0 0 0-2-2h-7Zm-6 9a1 1 0 0 0-1 1v5a1 1 0 1 0 2 0v-1h.5a2.5 2.5 0 0 0 0-5H5Zm1.5 3H6v-1h.5a.5.5 0 0 1 0 1Zm4.5-3a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h1.376A2.626 2.626 0 0 0 15 15.375v-1.75A2.626 2.626 0 0 0 12.375 11H11Zm1 5v-3h.375a.626.626 0 0 1 .625.626v1.748a.625.625 0 0 1-.626.626H12Zm5-5a1 1 0 0 0-1 1v5a1 1 0 1 0 2 0v-1h1a1 1 0 1 0 0-2h-1v-1h1a1 1 0 1 0 0-2h-2Z"
                            clip-rule="evenodd"
                          />
                        </svg>
                        <span style="margin-left: 10px;">Exp. to PDF</span>
                      </button>
                    </div>
                  </div>
                  <!-- Chart -->
                  <div class="relative p-0 h-160" style="padding: 3px;">
                    <div
                      class="border dark:border-gray-600 border-gray-300 rounded-md bg-gray-50 dark:bg-[#1F2937]"
                      style="margin-top: -5px; border2: 1px solid #646464; min-height: 270px; position: relative; border-top-left-radius: 0.375rem; border-top-right-radius: 0.375rem;"
                    >
                      <div class="top-nav bg-gray-200 dark:bg-gray-700" style="border-top-left-radius: 0.375rem; border-top-right-radius: 0.375rem;">
                        <table class="table2 table-hover2 table-striped2">
                          <thead>
                            <tr>
                              <th
                                class="active:bg-gray-200 dark:active:bg-gray-800 dark:hover:bg-gray-600 hover:bg-gray-300 text-gray-600 dark:text-gray-300"
                                style="height: 33px; width2: 66px; padding: 3px 5px 3px 5px; text-align: left; border-right: 1px solid rgba(0, 0, 0, 0.1); border-top-left-radius: 0.375rem;"
                              >
                                #No.
                                <svg class="text-purple-300 dark:text-gray-600 fr mt-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" style2="margin-top: 4px;" fill="currentColor" viewBox="0 0 24 24">
                                  <path
                                    fill-rule="evenodd"
                                    d="M12.832 3.445a1 1 0 0 0-1.664 0l-4 6A1 1 0 0 0 8 11h8a1 1 0 0 0 .832-1.555l-4-6Zm-1.664 17.11a1 1 0 0 0 1.664 0l4-6A1 1 0 0 0 16 13H8a1 1 0 0 0-.832 1.555l4 6Z"
                                    clip-rule="evenodd"
                                  />
                                </svg>
                              </th>
                              <th
                                class="active:bg-gray-200 dark:active:bg-gray-800 dark:hover:bg-gray-600 hover:bg-gray-300 text-gray-600 dark:text-gray-300"
                                style="width2: 135px; padding: 3px 5px 3px 5px; text-align: left; border-right: 1px solid rgba(0, 0, 0, 0.1);"
                              >
                                Update Status
                                <svg class="text-purple-300 dark:text-gray-600 fr mt-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" style2="margin-top: 4px;" fill="currentColor" viewBox="0 0 24 24">
                                  <path
                                    fill-rule="evenodd"
                                    d="M12.832 3.445a1 1 0 0 0-1.664 0l-4 6A1 1 0 0 0 8 11h8a1 1 0 0 0 .832-1.555l-4-6Zm-1.664 17.11a1 1 0 0 0 1.664 0l4-6A1 1 0 0 0 16 13H8a1 1 0 0 0-.832 1.555l4 6Z"
                                    clip-rule="evenodd"
                                  />
                                </svg>
                              </th>
                              <th
                                class="active:bg-gray-200 dark:active:bg-gray-800 dark:hover:bg-gray-600 hover:bg-gray-300 text-gray-600 dark:text-gray-300"
                                style="width2: 213px; padding: 3px 5px 3px 5px; text-align: left; border-right: 1px solid rgba(0, 0, 0, 0.1);"
                              >
                                Checking Date
                                <svg class="text-purple-300 dark:text-gray-600 fr mt-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" style2="margin-top: 4px;" fill="currentColor" viewBox="0 0 24 24">
                                  <path
                                    fill-rule="evenodd"
                                    d="M12.832 3.445a1 1 0 0 0-1.664 0l-4 6A1 1 0 0 0 8 11h8a1 1 0 0 0 .832-1.555l-4-6Zm-1.664 17.11a1 1 0 0 0 1.664 0l4-6A1 1 0 0 0 16 13H8a1 1 0 0 0-.832 1.555l4 6Z"
                                    clip-rule="evenodd"
                                  />
                                </svg>
                              </th>
                              <th
                                class="active:bg-gray-200 dark:active:bg-gray-800 dark:hover:bg-gray-600 hover:bg-gray-300 text-gray-600 dark:text-gray-300"
                                style="width2: 132px; padding: 3px 5px 3px 5px; text-align: left; border-right: 0px solid rgba(0, 0, 0, 0.1); border-top-right-radius: 0.375rem;"
                              >
                                Startup Type
                                <svg class="text-purple-300 dark:text-gray-600 fr mt-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" style2="margin-top: 4px;" fill="currentColor" viewBox="0 0 24 24">
                                  <path
                                    fill-rule="evenodd"
                                    d="M12.832 3.445a1 1 0 0 0-1.664 0l-4 6A1 1 0 0 0 8 11h8a1 1 0 0 0 .832-1.555l-4-6Zm-1.664 17.11a1 1 0 0 0 1.664 0l4-6A1 1 0 0 0 16 13H8a1 1 0 0 0-.832 1.555l4 6Z"
                                    clip-rule="evenodd"
                                  />
                                </svg>
                              </th>
                            </tr>
                          </thead>
                        </table>
                      </div>
                      <div class="card-body table-responsive p-0" style="border-top-left-radius: 0.375rem; border-top-right-radius: 0.375rem;">
                        <table id="listViewAll" class="table table-hover table-striped">
                          <thead>
                            <tr class="active">
                              <th style="height: 33px; width: 71px; border-right: 1px solid #d1d1d1; color: #e9e9e9; border-top-left-radius: 0.375rem;" onmouseout="this.style.color='#E9E9E9'" onmouseover="this.style.color='#D1D1D1'">
                                #No.
                              </th>
                              <th style="width: 151px; border-right: 1px solid #d1d1d1; color: #e9e9e9;" onmouseout="this.style.color='#E9E9E9'" onmouseover="this.style.color='#D1D1D1'">Update Status</th>
                              <th style="width: 235px; border-right: 1px solid #d1d1d1; color: #e9e9e9;" onmouseout="this.style.color='#E9E9E9'" onmouseover="this.style.color='#D1D1D1'">Checking Date</th>
                              <th style="width: 120px; border-right: 0px solid #d1d1d1; color: #e9e9e9; border-top-right-radius: 0.375rem;" onmouseout="this.style.color='#E9E9E9'" onmouseover="this.style.color='#D1D1D1'">
                                Startup Type
                              </th>
                            </tr>
                          </thead>
                          <tbody></tbody>
                        </table>
                      </div>
                    </div>
                    <span class="text-base text-gray-700 dark:text-gray-400 text-base ml-1">
                      <span id="alllistcurrentnums" class="font-bold">0 Row</span> of All <span id="alllistallnums" class="font-bold">0</span> <span id="alllistallnumsrowstext">Row</span>
                    </span>
                  </div>
                </div>
                <!-- Doughnut chart card -->
              </div>
              <!-- Two grid columns -->
            </div>
          </main>
        </div>
      </div>
    </div>
    <!-- All javascript code in this project for now is just for demo DON'T RELY ON IT  -->
    <!-- jQuery -->
    <script type="text/javascript" src="build/js/jquery.min.js"></script>

    <!--Datatables -->
    <script src="build/js/jquery.dataTables.min.js"></script>
    <script>
      const currentThemes = JSON.parse(window.localStorage.getItem("dark")) || false; // الوضع الحالي
      const loadingElement = document.getElementById("loadings");

      if (currentThemes) {
        //alert(currentThemes);
        loadingElement.classList.remove("bg-[#E1EAF1]"); // هذا هو الصنف الذي يُعطي اللون الأصلي
        loadingElement.classList.remove("text-gray-500"); // هذا هو الصنف الذي يُعطي اللون الأصلي
        loadingElement.classList.add("bg-[#232F3F]"); // يمكنك تغيير 'red' إلى أي لون آخر
        loadingElement.classList.add("text-[#57C3EA]"); // يمكنك تغيير 'red' إلى أي لون آخر
      } else {
        //loadingElement.classList.remove('bg-[#E1EAF1]'); // هذا هو الصنف الذي يُعطي اللون الأصلي
        //loadingElement.classList.remove('text-gray-500'); // هذا هو الصنف الذي يُعطي اللون الأصلي
        loadingElement.classList.add("bg-[#FFF0F5]"); // يمكنك تغيير 'red' إلى أي لون آخر
        //loadingElement.classList.add('text-[#57C3EA]'); // يمكنك تغيير 'red' إلى أي لون آخر
      }

      let table; // متغير لتخزين كائن DataTables
	  let selectedRow = null; // متغير لتتبع الصف المحدد حاليًا
      let dataQueue = []; // مصفوفة لتخزين البيانات المستلمة مؤقتًا
      let isAnimating = false; // متغير لتتبع حالة الحركة (هل يتم إضافة صفوف حاليًا؟)
      let alllistallnums = 0; //متغير لعداد الصفوف الكلي
      let last_status = ""; // متغير لتخزين الحالة السابقة (كما في الكود الأصلي)
      let isTableInitialized = false; // متغير لتتبع ما إذا تم تهيئة الجدول بالفعل
	  
      $(document).ready(function () {
        // تهيئة DataTables عند تحميل الصفحة
        table = $("#listViewAll")
          .DataTable({
            bPaginate: false, // تعطيل الترقيم
            bInfo: false, // تعطيل معلومات الجدول (مثل "إظهار 1 من أصل 10")
            searching: false, // تعطيل البحث
            responsive: true, // تفعيل الاستجابة (تعديل حجم الجدول تلقائيًا)
            columns: [
              { data: "id", orderable: false }, // تعطيل الترتيب للعمود الأول (#No.)
              { data: "status", orderable: false }, // تعطيل الترتيب لعمود حالة التحديث
              { data: "dateTime", orderable: false }, // تعطيل الترتيب لعمود تاريخ الفحص
              { data: "startupType", orderable: false }, // تعطيل الترتيب لعمود نوع البدء
            ],
            scrollCollapse: true, // طي الجدول إذا كان المحتوى أصغر من الارتفاع المحدد
            scrollY: "236px", // تحديد ارتفاع الجدول مع شريط تمرير رأسي
            language: {
              emptyTable: '<span class="text-lg">No data available in status log list, please <b>Start Check</b></span>',
            },
			
          })
          .on('init.dt', function () {
            // يتم استدعاء هذا الحدث بعد انتهاء تهيئة الجدول
            // يمكنك الآن استدعاء دالة C# هنا إذا كنت تريد
        });
		
        isTableInitialized = true; // تم تهيئة الجدول
        table.columns.adjust(); // ضبط عرض الأعمدة بعد التهيئة
        adjustTableHeaders(); // استدعاء دالة ضبط ترويسات الجدول عند تحميل الصفحة
		
		// إضافة مُستمع حدث النقر على الجدول
        $("#listViewAll").on("click", "tbody tr", function () {
            const clickedRow = $(this); // الحصول على الصف الذي تم النقر عليه

            // التحقق إذا كان الصف الذي تم النقر عليه هو نفسه الصف المحدد حاليًا
            if (clickedRow.hasClass("selected-row")) {
                // إذا كان كذلك، قم بإزالة التحديد
                clickedRow.removeClass("selected-row");
                selectedRow = null;
            } else {
                // إذا لم يكن كذلك، قم بإزالة التحديد من أي صف آخر مُحدد بالفعل
                table.$("tr.selected-row").removeClass("selected-row");
                // ثم حدد الصف الحالي
                clickedRow.addClass("selected-row");
                selectedRow = this; // تحديث المتغير ليشير إلى الصف المحدد حديثًا
            }
        });

        // إضافة مُستمع حدث النقر على المُستند بالكامل (لإزالة التحديد عند النقر خارج الصف المحدد أو الجدول)
        $(document).on("click", function (event) {
            // التحقق من وجود صف مُحدد حاليًا وأن النقر ليس داخل الصف المحدد أو الجدول نفسه
            if (selectedRow && !$(selectedRow).has(event.target).length && !$(event.target).closest("#listViewAll").length) {
                // إزالة التحديد
                $(selectedRow).removeClass("selected-row");
                selectedRow = null;
            }
        });
	});
	
	function ckl() {
		//alert('this is ausslp.html');
		console.log("deselectTableRow() تم استدعاؤها من JavaScript"); // رسالة سجل للتتبع
		// **الشرط الإضافي هنا:** تحقق إذا كان هناك صف محدد بالفعل *و* إذا كان يحتوي على الكلاس 'selected-row'
		if (selectedRow && $(selectedRow).hasClass("selected-row")) {
			$(selectedRow).removeClass("selected-row");
			selectedRow = null;
			console.log("تم إلغاء تظليل الصف."); // رسالة سجل إضافية عند الإلغاء الفعلي
		} else {
			console.log("لا يوجد صف مظلل لإلغاء تظليله."); // رسالة سجل إذا لم يكن هناك صف مظلل
		}
	}
	  
	  

      function updateRowCount(id) {
	  //alert(id);
        // الحصول على عدد الصفوف في الجدول
        const rowCount = $("#listViewAll tbody tr").length;
        //console.log("ID: " + id);
        // تحديث النص داخل span
        if (id <= 1) {
          //alllistallnums = rowCount;
          $("#alllistallnumsrowstext").text("Row");
        } else {
          $("#alllistallnumsrowstext").text("Rows");
        }
		if (rowCount <= 1) {
			rotxt = "Row";
		} else {
			rotxt = "Rows";
		}
        $("#alllistallnums").text(id);
        $("#alllistcurrentnums").text(rowCount + " " + rotxt);
      }

      function addRow(data) {
        // تعريف متغير maxRows بناءً على البيانات المستقبلة
        // تحديد الحد الأقصى للصفوف
        let maxRowsStatusLog = parseInt(data.maxRowsStatusLog); // في حالة عدم وجود maxRows نستخدم 100 كقيمة افتراضية
        // التحقق مما إذا كان عدد الصفوف قد تجاوز maxRows
        if (table.rows().count() >= maxRowsStatusLog) {
          clearalllist(); // حذف جميع الصفوف عند الوصول إلى الحد الأقصى
        }

        // إضافة الصف الجديد إلى الجدول
        table.row.add(data).draw(false);
        const rowNode = table.row(table.rows().count() - 1).node(); // الحصول على آخر صف مضاف
        $(rowNode).removeClass(); // إزالة جميع الأصناف السابقة

        // تعيين الفئة المناسبة حسب حالة البيانات
        if (data.status == "Running") {
          last_status = data.status;
          $(rowNode).addClass("classRunning dark:bg-red-900/50 dark:text-red-300");
        } else if (data.status == "Start Pending" || data.status == "Stop Pending") {
          last_status = data.status;
          $(rowNode).addClass("classPending dark:bg-yellow-950/60 dark:text-yellow-500");
        } else if (data.status == "Paused" || data.status == "Paused Pending") {
          last_status = data.status;
          $(rowNode).addClass("classPause dark:bg-yellow-950/60 dark:text-yellow-500");
        } else if (data.id == "1" && data.status == "Stopped") {
          last_status = data.status;
          $(rowNode).addClass("class1Stopped dark:bg-yellow-950/50 dark:text-yellow-500");
        } else if (last_status == "Stopped" && (last_status == "Start Pending" || last_status == "Stop Pending")) {
          last_status = data.status;
          $(rowNode).addClass("class1Stopped dark:bg-yellow-950/60 dark:text-yellow-500");
        } else if (last_status == "Running" && (last_status == "Start Pending" || last_status == "Stop Pending")) {
          last_status = data.status;
          $(rowNode).addClass("classRSS dark:bg-gray-600/60");
        }

        // تحريك الجدول للأسفل لإظهار الصف الجديد
        const tableContainer = $("#listViewAll").parent();
        if (tableContainer.length) {
          tableContainer.animate(
            {
              scrollTop: tableContainer[0].scrollHeight,
            },
            750,
            "swing"
          );
        } else {
          console.error("لم يتم العثور على حاوية الجدول.");
        }

        updateRowCount(data.id);
        adjustTableHeaders();
      }

      function animateRows(timestamp) {
        if (dataQueue.length > 0) {
          const data = dataQueue.shift();
          addRow(data);
          if (dataQueue.length > 0) {
            requestAnimationFrame(animateRows);
          } else {
            isAnimating = false;
          }
        }
      }

      window.chrome.webview.addEventListener("message", (event) => {
        try {
          const data = JSON.parse(event.data);
          if (data.type == "change.status") {
            if (!isTableInitialized) {
              table.clear().draw();
              isTableInitialized = true;
            }
            if (data.status == "StartPending") {
              data.status = "Start Pending";
            } else if (data.status == "StopPending") {
              data.status = "Stop Pending";
            } else if (data.status == "PausedPending") {
              data.status = "Paused Pending";
            }
            dataQueue.push(data);

            if (!isAnimating) {
              isAnimating = true;
              requestAnimationFrame(animateRows);
            }
            const dataToSend = { type: "Reply from #listViewAll", message: "DataReceived" }; // إنشاء كائن JSON
            window.chrome.webview.postMessage(JSON.stringify(dataToSend)); // تحويل الكائن إلى JSON وإرساله
          }
        } catch (error) {
          const errorData = {
            type: "javascript_error", // نوع الخطأ
            message: error.message, // رسالة الخطأ
            name: error.name, // اسم الخطأ (مثل "TypeError" أو "ReferenceError")
            stack: error.stack, // تتبع الخطأ (مفيد للتصحيح)
          };
          window.chrome.webview.postMessage(JSON.stringify(errorData));
        }
      });

      // استلام الرسائل من WebView2
      window.chrome.webview.addEventListener("message2", (event) => {
        try {
          const data = JSON.parse(event.data); // تحليل البيانات
          if (data.type === "change.status") {
            const table = document.getElementById("listViewAll").getElementsByTagName("tbody")[0];
            const newRow = table.insertRow();

            // إضافة الصف إلى الجدول
            const cell0 = newRow.insertCell(0);
            cell0.innerText = data.id;

            const cell1 = newRow.insertCell(1);
            cell1.innerText = data.status === "Running" ? "Running" : data.status;

            const cell2 = newRow.insertCell(2);
            cell2.innerText = data.dateTime;

            const cell3 = newRow.insertCell(3);
            cell3.innerText = data.startupType;

            last_status = data.status;

            // إضافة تأثير CSS لتلاشي الصف
            newRow.classList.add("table-row-fade");
            setTimeout(() => newRow.classList.add("table-row-fade-visible"), 10);

            // التمرير بسلاسة إلى آخر صف
            scrollToBottom(newRow);

            // تحديث عدد الصفوف
            updateRowCount();

            // إرسال رسالة إلى WebView2 لتأكيد استقبال البيانات
            window.chrome.webview.postMessage("DataReceived");
          }
        } catch (error) {
          // إرسال رسالة خطأ إلى C# في حالة وجود مشكلة في تحليل البيانات
          window.chrome.webview.postMessage("Error: " + error.message);
        }
      });

      // دالة التمرير باستخدام requestAnimationFrame
      function scrollToBottom(row) {
        const container = document.getElementById("listViewAll").parentElement;
        const targetScroll = container.scrollHeight;

        function smoothScroll(current) {
          if (current < targetScroll) {
            const next = Math.min(current + 20, targetScroll);
            container.scrollTop = next;
            requestAnimationFrame(() => smoothScroll(next));
          }
        }

        smoothScroll(container.scrollTop);
      }

      const setColors = (color) => {
        const root = document.documentElement;
        root.style.setProperty("--color-primary-000", `var(--color-${color}-000)`); // primary-000
        root.style.setProperty("--color-primary-100", `var(--color-${color}-100)`); // primary-100
        root.style.setProperty("--color-primary-200", `var(--color-${color}-200)`); // primary-200
        root.style.setProperty("--color-primary-220", `var(--color-${color}-220)`); // primary-220
        root.style.setProperty("--color-primary-222", `var(--color-${color}-222)`); // primary-222
        root.style.setProperty("--color-primary-202", `var(--color-${color}-202)`); // primary-202
        root.style.setProperty("--color-primary-002", `var(--color-${color}-002)`); // primary-002
        root.style.setProperty("--color-primary-300", `var(--color-${color}-300)`); // primary-300
        root.style.setProperty("--color-primary-400", `var(--color-${color}-400)`); // primary-400
        root.style.setProperty("--color-primary-440", `var(--color-${color}-440)`); // primary-440
        root.style.setProperty("--color-primary-444", `var(--color-${color}-444)`); // primary-444
        root.style.setProperty("--color-primary-404", `var(--color-${color}-404)`); // primary-404
        root.style.setProperty("--color-primary-500", `var(--color-${color}-500)`); // primary-500
        root.style.setProperty("--color-primary-600", `var(--color-${color}-600)`); // primary-600
        root.style.setProperty("--color-primary-700", `var(--color-${color}-700)`); // primary-700
        root.style.setProperty("--color-primary-770", `var(--color-${color}-770)`); // primary-770
        root.style.setProperty("--color-primary-007", `var(--color-${color}-007)`); // primary-007
        root.style.setProperty("--color-primary-707", `var(--color-${color}-707)`); // primary-707
        root.style.setProperty("--color-primary-800", `var(--color-${color}-800)`); // primary-800
        root.style.setProperty("--color-primary-880", `var(--color-${color}-880)`); // primary-880
        root.style.setProperty("--color-primary-888", `var(--color-${color}-888)`); // primary-888
        root.style.setProperty("--color-primary-808", `var(--color-${color}-808)`); // primary-808
        root.style.setProperty("--color-primary-008", `var(--color-${color}-008)`); // primary-008
        root.style.setProperty("--color-primary-900", `var(--color-${color}-900)`); // primary-900
        root.style.setProperty("--color-primary-990", `var(--color-${color}-990)`); // primary-990
        root.style.setProperty("--color-primary-999", `var(--color-${color}-999)`); // primary-999
        root.style.setProperty("--color-primary-1000", `var(--color-${color}-1000)`); // primary-1000
        root.style.setProperty("--color-primary-1100", `var(--color-${color}-1100)`); // primary-1100
        root.style.setProperty("--color-primary-1200", `var(--color-${color}-1200)`); // primary-1200
        root.style.setProperty("--color-primary-1300", `var(--color-${color}-1300)`); // primary-1300
        root.style.setProperty("--color-primary-1400", `var(--color-${color}-1400)`); // primary-1400
        root.style.setProperty("--color-primary-1500", `var(--color-${color}-1500)`); // primary-1500
        root.style.setProperty("--color-primary-1600", `var(--color-${color}-1600)`); // primary-1600
        root.style.setProperty("--color-primary-1700", `var(--color-${color}-1700)`); // primary-1700
      };

      const setup = () => {
        const getTheme = () => JSON.parse(window.localStorage.getItem("dark")) || false; // الوضع الحالي
        const getColor = () => window.localStorage.getItem("color") || "colored";
		
        const applyInitialThemeAndColor = () => {
          const isDark = getTheme();
          const color = getColor();
          //updateFontFamily();
          //alert(isDark);
          if (!isDark) {
            //alert('Its Not Dark');
          }
          document.documentElement.classList.toggle("dark", isDark);
          setColors(color);
        };

        /*
            window.addEventListener("message", function (event) {
			alert();
			//alert();
			//alert();
			
                if (event.data.type === "theme.changed.success") {
                    const newThemeValue = event.data.value;
                    document.documentElement.classList.toggle('dark', newThemeValue);
                }
                if (event.data.type === "colorChanged") {
                    const newColorValue = event.data.value;
                    setColors(newColorValue);
                }
            });
			*/

        if (window.chrome && window.chrome.webview) {
          window.chrome.webview.addEventListener("message", (event) => {
            console.log("Received Data: ", event.data);
            const data = JSON.parse(event.data);
            if (data.type !== undefined) {
              if (data.type === "theme.changed.success") {
                console.log("تم استلام قيمة الوضع الجديد في backBody: " + data.type);
                //applyInitialThemeAndColor();
                document.documentElement.classList.toggle("dark", data.value);
                if (data.color) {
                  setColors(data.color);
                }
                sendMessage("reply.theme", "ausslp.html", "done");
              }
            }
          });
        }

        return {};
      };

      // إضافة وظيفة لمسح جميع الصفوف
      // دالة لمسح جميع الصفوف (الآن يمكنها الوصول إلى المتغير table)
      function clearalllist() {
        // مسح جميع الصفوف باستخدام DataTables API
        if (table) {
          // تحقق من أن الجدول قد تم تهيئته
          table.clear().draw();
          // تحديث عدد الصفوف بشكل صحيح باستخدام DataTables API
          $("#alllistcurrentnums").text("0 Row"); // او استخدام $("#alllistcurrentnums").text(table.rows().count());
        } else {
          console.error("Table is not initialized yet.");
          //alert("الجدول لم يتم تهيئته بعد.");
        }
      }

      function sendToWebView2(message) {
        if (typeof chrome !== "undefined" && typeof chrome.webview !== "undefined") {
          if (message == "nodatainalllist") {
            message = "nodatainalllist";
          }
          try {
            const messageObject = {
              type: "button.click",
              target: "exportalltopdf",
              jmessage: message, // إضافة الرسالة الاختيارية
            };
            console.log(JSON.stringify(messageObject, null, 2)); // طباعة JSON للتأكد من صحته
            window.chrome.webview.postMessage(JSON.stringify(messageObject));
          } catch (error) {
            console.error("خطأ في إرسال الرسالة:", error);
          }
        } else {
          console.error("chrome.webview غير مُعرَّف. WebView2 غير مُهيَّأ بشكل صحيح.");
          // يمكنك هنا إضافة معالجة بديلة، مثل عرض رسالة خطأ للمستخدم داخل الصفحة
          alert("Cannot send message to WebView2");
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        // دالة لجلب قيمة اللون من localStorage. إذا لم تكن موجودة، تُرجع القيمة الافتراضية "colored".
        const getColor = () => window.localStorage.getItem("color") || "colored";

        // مصفوفة تحتوي على معلومات الأزرار: id (معرف العنصر في HTML) و originalText (النص الأصلي أو القيمة التي سيتم إرسالها).
        const labels = [
          { id: "clearalllist", originalText: "Clear" }, // زر الإغلاق
          { id: "exportalltopdf", originalText: "Export" }, // زر التصغير
          //{ id: "buttonSettings", originalText: "Edit Settings" }, // زر الإعدادات
        ];

        // المرور على كل عنصر في مصفوفة labels.
        labels.forEach((label) => {
          // جلب العنصر من DOM باستخدام معرفه (id).
          const element = document.getElementById(label.id);

          // التحقق من وجود العنصر في DOM.
          if (element) {
            // إضافة مستمعين للأحداث (mouseover, mouseout, click) لكل زر.
            element.addEventListener("mouseover", () => {
              // عند تحريك مؤشر الماوس فوق الزر:
              // يتم إرسال رسالة إلى webView2.
              // إذا كان الزر هو "buttonColoredLite"، يتم إرسال قيمة اللون من localStorage.
              // خلاف ذلك، يتم إرسال النص الأصلي (originalText).
              sendMessage("mouse.over", label.id, label.originalText);
            });

            element.addEventListener("mouseout", () => {
              // عند تحريك مؤشر الماوس خارج الزر:
              // نفس المنطق كما في mouseover.
              sendMessage("mouse.out", label.id, label.originalText);
            });

            element.addEventListener("click", () => {
              // عند النقر على الزر:
              // نفس المنطق كما في mouseover و mouseout.
              sendMessage("button.click", label.id, label.originalText);
            });
          } else {
            // إذا لم يتم العثور على العنصر، يتم تسجيل خطأ في وحدة التحكم (Console).
            console.error(`العنصر ذو المعرف ${label.id} غير موجود.`);
          }
        });
      });

      // دالة مُوحّدة لإرسال الرسائل مع معالجة الأخطاء
      function sendMessage(eventType, targetId, message) {
        // قيمة افتراضية للرسالة
        try {
          const messageObject = {
            type: eventType,
            target: targetId,
            jmessage: message, // إضافة الرسالة الاختيارية
          };
          console.log(JSON.stringify(messageObject, null, 2)); // طباعة JSON للتأكد من صحته
          window.chrome.webview.postMessage(JSON.stringify(messageObject));
        } catch (error) {
          console.error("خطأ في إرسال الرسالة:", error);
        }
      }

      // عند النقر على عنصر HTML الذي يحمل المعرف "exportalltopdf"
      function exportalltopdf() {
        // استيراد كائن jsPDF من مكتبة jsPDF
        const { jsPDF } = window.jspdf;

        // إنشاء كائن جديد لملف PDF
        const doc = new jsPDF();

        // بيانات Base64 لمربع أبيض صغير (يمكنك استبدالها ببيانات صورتك)
        // رابط الصورة التي ستظهر في الترويسة (Header)
        const imgData =
          "data:image/jpeg;base64,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";
        // رابط صفحة الفيسبوك التي ستظهر في التذييل (Footer)
        const facebookPageUrl = "Developer https://www.facebook.com/bakrish";

        // متغير سيُستخدم لتخزين العدد الكلي للصفحات لاحقًا
        let totalPagesExp = "{total_pages_count_string}";

        function getCurrentDateTime() {
          const now = new Date(); // إنشاء كائن تاريخ جديد يمثل التاريخ والوقت الحاليين
          const day = now.getDate().toString().padStart(2, "0"); // الحصول على رقم اليوم من الشهر (1-31) وتحويله إلى سلسلة نصية، ثم إضافة صفر على اليسار إذا كان الرقم أقل من 10
          const month = (now.getMonth() + 1).toString().padStart(2, "0"); // الحصول على رقم الشهر (0-11) وإضافة 1 لتحويله إلى (1-12)، ثم تحويله إلى سلسلة نصية وإضافة صفر على اليسار إذا كان الرقم أقل من 10
          const year = now.getFullYear(); // الحصول على السنة بأربعة أرقام

          let hours = now.getHours(); // الحصول على الساعات بنظام 24 ساعة (0-23)، وتخزينها في متغير مؤقت لاستخدامها في تحديد AM/PM
          const minutes = now.getMinutes().toString().padStart(2, "0"); // الحصول على الدقائق (0-59) وتحويلها إلى سلسلة نصية وإضافة صفر على اليسار إذا كان الرقم أقل من 10

          let ampm = hours >= 12 ? "PM" : "AM"; // تحديد ما إذا كانت الفترة صباحًا (AM) أو مساءً (PM) باستخدام عامل التشغيل الثلاثي: إذا كانت الساعات أكبر من أو تساوي 12، فإن الفترة هي PM، وإلا فهي AM
          hours = hours % 12; // تحويل الساعات من نظام 24 ساعة إلى نظام 12 ساعة باستخدام عامل الباقي (%)
          hours = hours ? hours : 12; // معالجة حالة الساعة 0 (منتصف الليل): إذا كانت الساعات بعد التحويل تساوي 0، يتم تعيينها إلى 12

          return `${day}/${month}/${year} ${hours}:${minutes} ${ampm}`; // إرجاع التاريخ والوقت بتنسيق DD/MM/YYYY HH:MM AM/PM
        }

        try {
          // فحص عدد الصفوف قبل إنشاء الجدول
          const table = document.getElementById("listViewAll");
          if (!table) {
            console.error("لم يتم العثور على الجدول!");
            //alert("لم يتم العثور على الجدول!");
            return; // الخروج من الدالة إذا لم يتم العثور على الجدول
          }
          const rows = table.querySelectorAll("tbody tr"); // تحديد جميع صفوف الجدول داخل tbody
          if (rows.length === 1) {
            const firstCell = rows[0].querySelector("td"); // الحصول على الخلية الأولى في الصف
            //alert(firstCell.textContent.trim().toLowerCase());
            if (firstCell.textContent.trim().toLowerCase().includes("no data")) {
              console.error("الجدول يحتوي على صف واحد فقط به 'no data'.");
              sendToWebView2("nodatainalllist");
              return; // الخروج من الدالة إذا كان هناك صف واحد فقط به "no data"
            }
          }

          // محاولة إنشاء جدول PDF ومعالجة أي أخطاء محتملة
          doc.autoTable({
            // تحديد عنصر HTML للجدول الذي سيتم تحويله إلى PDF
            html: "#listViewAll",

            // دالة رد نداء تُستدعى في كل صفحة من ملف PDF، تُستخدم لرسم الترويسة
            didDrawPage: function (data) {
              try {
                // محاولة إضافة الصورة ومعالجة أي أخطاء محتملة
                doc.addImage(imgData, "PNG", data.settings.margin.left, 7, 16, 16);
                // إضافة الصورة:
                // imgData: بيانات الصورة (Base64 في هذه الحالة)
                // "PNG": نوع الصورة
                // data.settings.margin.left: الإحداثي السيني (X) لبداية الصورة (الهامش الأيسر)
                // 5: الإحداثي الصادي (Y) لبداية الصورة
                // 16, 16: عرض وارتفاع الصورة
              } catch (imgError) {
                // التقاط أي خطأ يحدث أثناء إضافة الصورة وعرضه في وحدة التحكم
                console.error("خطأ في إضافة الصورة:", imgError);
              }
              // تحديد حجم الخط
              doc.setFontSize(25);

              // إضافة النص الرئيسي:
              doc.text("Stop Windows Update", data.settings.margin.left + 25, 15);
              // data.settings.margin.left + 25: الإحداثي السيني (X) لبداية النص (بإزاحة 25 بكسل لليمين بعد الصورة)
              // 15: الإحداثي الصادي (Y) لبداية النص

              doc.setFontSize(15);
              // إضافة النص الفرعي بنفس الطريقة
              doc.text("Control Automatic Windows Update Startup Service 3.1", data.settings.margin.left + 25, 22);

              // إضافة النص الجديد هنا
              doc.setFontSize(12); // يمكنك تغيير حجم الخط كما تريد
              //const textWidth = doc.getTextWidth("The List of All Update Service Status");
              //doc.text("The List of All Update Service Status", data.settings.margin.left, 35); // تم تعديل الإحداثي الصادي (Y) ليصبح 35 ليظهر النص تحت العنوان الفرعي

              const listText = "The List of All Update Service Status";
              const dateTimeText = getCurrentDateTime(); // الحصول على التاريخ والوقت الحاليين

              // الحصول على عدد صفوف الجدول
              const rowCount = data.table.body.length;
              if (rowCount <= 1) {
                rot = "Row";
              } else {
                rot = "Rows";
              }
              const rowCountText = rot + `: ${rowCount}`; // إنشاء نص لعرض عدد الأسطر
              const pageWidth = doc.internal.pageSize.getWidth();

              // حساب عرض النصين
              const listTextWidth = doc.getTextWidth(listText);
              const dateTimeTextWidth = doc.getTextWidth(dateTimeText);
              const rowCountTextWidth = doc.getTextWidth(rowCountText); // حساب عرض النص لعدد الأسطر
              const availableWidth = data.settings.margin.right - data.settings.margin.left; // المساحة المتاحة للعرض

              //حساب مكان النص مع مراعاة وجود التاريخ والوقت
              let rowCountTextX = data.settings.margin.left + availableWidth - rowCountTextWidth - 10;
              if (rowCountTextX < data.settings.margin.left + listTextWidth + 10) {
                rowCountTextX = data.settings.margin.left + listTextWidth + 10;
              }

              // تحديد موقع النصين
              const listTextX = data.settings.margin.left;
              const dateTimeTextX = pageWidth - data.settings.margin.right - dateTimeTextWidth - 1; //وضع التاريخ والوقت في أقصى اليمين مع هامش بسيط

              //const pageNumberX = pageWidth - data.settings.margin.right - pageNumberWidth - 2
              doc.text(listText, listTextX, 35);
              doc.text(dateTimeText, dateTimeTextX, 35);
              doc.text(rowCountText, rowCountTextX, 35); // عرض عدد الأسطر

              // تحديد عرض الخط
              doc.setLineWidth(0.5);

              // رسم خط أفقي أسفل الترويسة
              doc.line(data.settings.margin.left, 27, data.settings.margin.right, 27);

              // تذييل الصفحة (Footer)
              //const pageCount = doc.internal.getNumberOfPages();
              totalPagesExp2 = doc.internal.getNumberOfPages();
              const pageNumberText2 = "Page " + data.pageNumber + " of " + totalPagesExp2;
              if (typeof doc.putTotalPages === "function") {
                pageNumberText = "Page " + data.pageNumber + " of " + totalPagesExp;
              }
              doc.setFontSize(10);

              // حساب عرض النص لرقم الصفحة لوضعه على اليمين

              const pageNumberWidth = doc.getTextWidth(pageNumberText2);
              const pageNumberX = pageWidth - data.settings.margin.right - pageNumberWidth - 2; // حساب الإحداثي السيني X لوضع النص على اليمين

              doc.text(pageNumberText, pageNumberX, doc.internal.pageSize.height - 10); // رقم الصفحة على اليمين
              doc.text(facebookPageUrl, data.settings.margin.left, doc.internal.pageSize.height - 10); // رابط فيسبوك على اليسار
            },
            margin: { top: 40, bottom: 15 }, // هوامش أعلى وأسفل الصفحة لإفساح المجال للترويسة والتذييل
            startY: 40, // بداية الجدول بعد النص مباشرة
          });
          if (typeof doc.putTotalPages === "function") {
            doc.putTotalPages(totalPagesExp);
          }
          const timestamp = new Date().getTime();
          doc.save("Stop_Windows_Update-All-List_" + timestamp + ".pdf");
          // حفظ ملف PDF باسم "test.pdf"
        } catch (error) {
          // التقاط أي خطأ يحدث أثناء إنشاء ملف PDF وعرضه في وحدة التحكم وتنبيه المستخدم
          console.error("حدث خطأ أثناء إنشاء ملف PDF:", error);
          //alert("حدث خطأ أثناء إنشاء ملف PDF. الرجاء التحقق من وحدة التحكم.");
        }
      }
	  
	  
	  /*
      $(document).ready(function () {
        // تهيئة DataTables
        table = $("#listViewAll").DataTable();

        // متغير لتتبع الرقم الحالي
        let currentNo = 99738;

        // متغير لتتبع الوقت السابق لاستخدامه مع requestAnimationFrame
        let lastTime = null;

        let alllistallnums = 0;

        // دالة لتحديث عدد الصفوف المعروض
        function updateRowCount() {
          alllistallnums = alllistallnums + 1;
          // الحصول على عدد الصفوف في الجدول
          const rowCount = $("#listViewAll tbody tr").length;
          // تحديث النص داخل span
          if (rowCount <= 1) {
            //alllistallnums = rowCount;
            $("#alllistallnumsrowstext").text("Row");
          } else {
            alllistallnums = alllistallnums;
            $("#alllistallnumsrowstext").text("Rows");
          }
          $("#alllistallnums").text(alllistallnums);
          $("#alllistcurrentnums").text(rowCount);
        }

        // وظيفة لإضافة صف جديد
        function addRow(data) {
          // إضافة صف جديد باستخدام DataTables
          const newRow = table.row.add([data.no, data.status, data.date, data.type]).draw(false).node();

          // إضافة تأثير التلاشي للصف الجديد
          //$(newRow).hide().fadeIn("slow");

          // التمرير إلى أسفل حاوية الجدول
          const tableContainer = $("#listViewAll").parent();
          if (tableContainer.length) {
            tableContainer.animate(
              {
                scrollTop: tableContainer[0].scrollHeight, // استخدام scrollHeight لحساب الارتفاع بدقة
              },
              500,
              "swing"
            );
          } else {
            console.error("لم يتم العثور على حاوية الجدول.");
          }
          //استدعاء adjustTableHeaders بعد اكتمال رسم الجدول بواسطة DataTables
          table.on("draw", adjustTableHeaders);

          // استدعاء دالة تحديث العدد بعد إضافة صف جديد
          updateRowCount();
        }

        // دالة حلقة اللعبة باستخدام requestAnimationFrame
        function gameLoop(timestamp) {
          let afterSeconds = 1000;
          // تهيئة lastTime في أول استدعاء
          if (!lastTime) {
            lastTime = timestamp;
          }

          // حساب الوقت المنقضي منذ آخر تحديث
          const elapsed = timestamp - lastTime;

          // إذا مرّت ثانية واحدة (1000 مللي ثانية)
          if (elapsed >= afterSeconds) {
            const now = new Date();
            const data = {
              no: currentNo++, // زيادة الرقم الحالي بمقدار 1
              status: "Running",
              date: now.toLocaleString(),
              type: "Manual",
            };
            addRow(data); // إضافة صف جديد
            lastTime = timestamp; // تحديث وقت آخر إضافة
          }

          // استدعاء دالة gameLoop مرة أخرى في الإطار التالي
          requestAnimationFrame(gameLoop);
        }

        // بدء حلقة اللعبة باستخدام requestAnimationFrame
        //requestAnimationFrame(gameLoop);

        // استدعاء adjustTableHeaders عند تحميل الصفحة لأول مرة
        adjustTableHeaders();
      });
	  
	  */
	  

      // وظيفة لضبط عرض أعمدة الجدول العلوي (top-nav) لتطابق أعمدة جدول البيانات الرئيسي
      function adjustTableHeaders() {
        const listViewAllTable = document.getElementById("listViewAll");
        const topNavTable = document.querySelector(".top-nav table");
        const topNavThs = topNavTable?.querySelectorAll("th");
        const listViewAllThs = listViewAllTable?.querySelectorAll("th");

        if (listViewAllTable && topNavTable && topNavThs?.length === listViewAllThs?.length) {
          topNavTable.style.width = listViewAllTable.offsetWidth + "px";

          for (let i = 0; i < topNavThs.length; i++) {
            topNavThs[i].style.width = listViewAllThs[i].offsetWidth + "px";
          }
        } else {
          console.error("لم يتم العثور على أحد الجداول أو عدد عناصر th غير متطابق.");
        }
      }

      // دالة لتأخير استدعاء دالة معينة (debounce) لمنع الاستدعاء المتكرر عند تغيير حجم النافذة
      function debounce(func, timeout = 300) {
        let timer;
        return (...args) => {
          clearTimeout(timer);
          timer = setTimeout(() => {
            func.apply(this, args);
          }, timeout);
        };
      }
	  
	  
	  /*
      $(document).ready(function () {
        // تهيئة DataTables (إذا كنت تستخدمها)
        table = $("#listViewAll").DataTable({
        // ... خيارات DataTables ...
    }).on('init.dt', function () {
        // يمكنك الآن استدعاء دالة C# هنا إذا كنت تريد
    });
		
		// دالة خارجية لإلغاء تحديد الصف
		function unSelectTr() {
			if (selectedRow) {
				$(selectedRow).removeClass("selected-row");
				selectedRow = null;
			}
		}

        // إضافة مُستمع حدث النقر على الجدول
        $("#listViewAll").on("click", "tbody tr", function () {
          // الحصول على الصف الذي تم النقر عليه
          const clickedRow = $(this);

          // التحقق إذا كان الصف الذي تم النقر عليه هو نفسه الصف المحدد حاليًا
          if (clickedRow.hasClass("selected-row")) {
            // إذا كان كذلك، قم بإزالة التحديد
            clickedRow.removeClass("selected-row");
            selectedRow = null;
          } else {
            // إذا لم يكن كذلك، قم بإزالة التحديد من أي صف آخر مُحدد بالفعل
            table.$("tr.selected-row").removeClass("selected-row");
            // ثم حدد الصف الحالي
            clickedRow.addClass("selected-row");
            selectedRow = this; // تحديث المتغير ليشير إلى الصف المحدد حديثًا
          }
        });

        // إضافة مُستمع حدث النقر على المُستند بالكامل (لإزالة التحديد عند النقر خارج الصف المحدد أو الجدول)
        $(document).on("click", function (event) {
          // التحقق من وجود صف مُحدد حاليًا وأن النقر ليس داخل الصف المحدد أو الجدول نفسه
          if (selectedRow && !$(selectedRow).has(event.target).length && !$(event.target).closest("#listViewAll").length) {
            // إزالة التحديد
            $(selectedRow).removeClass("selected-row");
            selectedRow = null;
          }
        });
      });
	  
	  */
	  
	  

      // تهيئة دالة adjustTableHeaders المُؤجَّلة (debounced)
      const debouncedAdjustTableHeaders = debounce(adjustTableHeaders);

      // إضافة مستمع لحدث تغيير حجم النافذة لاستدعاء دالة adjustTableHeaders المُؤجَّلة
      window.addEventListener("resize", debouncedAdjustTableHeaders);

      // إذا كان وضع الظلام مُفعَّلاً، أضف الكلاس "dark" إلى عنصر <html>

      // تحديد جميع العناصر التي تحمل الكلاس "interactive-element"
      const interactiveElements = document.querySelectorAll(".interactive-element");

      // المرور على كل عنصر من العناصر المحددة
      interactiveElements.forEach((element) => {
        // إضافة مُستمع حدث "mousedown" (الضغط على زر الفأرة)
        element.addEventListener("mousedown", () => {
          // قراءة قيمة وضع الظلام من localStorage وتعيين قيمة افتراضية false إذا لم تكن موجودة
          const isDarkMode = JSON.parse(window.localStorage.getItem("dark")) || false;

          // الحصول على قيم المتغيرات CSS المخصصة (Custom Properties/CSS Variables)
          const activeBg = getComputedStyle(element).getPropertyValue("--active-bg"); // لون الخلفية في الوضع الفاتح
          const activeBgDark = getComputedStyle(element).getPropertyValue("--active-bg-dark"); // لون الخلفية في الوضع الداكن

          // تعيين لون الخلفية بناءً على وضع الظلام، مع التحقق من وجود قيم المتغيرات
          element.style.setProperty("background-color", isDarkMode && activeBgDark ? activeBgDark : activeBg);

          // شرح إضافي:
          // العامل الثلاثي (isDarkMode && activeBgDark ? activeBgDark : activeBg) يعمل كالتالي:
          // 1. يتم التحقق أولاً من قيمة isDarkMode، ثم يتم التحقق من وجود قيمة ل activeBgDark.
          // 2. إذا كان كلاهما صحيحًا (وضع الظلام مُفعَّل والمتغير موجود)، يتم استخدام قيمة activeBgDark.
          // 3. إذا كان أحدهما أو كلاهما خطأ، يتم استخدام قيمة activeBg.
          // هذا يمنع حدوث أخطاء إذا لم يتم تعريف المتغير --active-bg-dark في CSS.
        });

        // إضافة مُستمع حدث "mouseup" (رفع زر الفأرة)
        element.addEventListener("mouseup", () => {
          // إزالة خاصية لون الخلفية لإعادة اللون الأصلي المحدد في CSS
          element.style.removeProperty("background-color");

          // شرح إضافي:
          // استخدام removeProperty('background-color') هو الأفضل هنا، لأنه يعيد لون الخلفية إلى القيمة المُحددة في CSS (سواء كانت من خلال Tailwind CSS أو أي أنماط أخرى).
          // تعيين backgroundColor = '' له نفس التأثير في معظم الحالات، ولكنه قد لا يعمل بشكل صحيح في بعض الحالات المعقدة.
        });

        // إضافة مُستمع حدث "mouseleave" (خروج مؤشر الفأرة من العنصر)
        element.addEventListener("mouseleave", () => {
          // إزالة خاصية لون الخلفية لإعادة اللون الأصلي المحدد في CSS (نفس السبب كما في mouseup)
          element.style.removeProperty("background-color");
        });
      });

      /*
		// دالة لتحديث الخط بناءً على الوضع الحالي
		const updateFontFamily = () => {
			const appBigTitle = document.getElementById("appBigTitle"); // العنصر الذي سيتم تغيير خطه
			const logoImage = document.getElementById("logoimage"); // العنصر الذي سيتم تغيير صورته
			if (appBigTitle) {
				const isDarkMode = JSON.parse(window.localStorage.getItem("dark")) || false; // الوضع الحالي
				appBigTitle.style.fontFamily = isDarkMode ? "mybigtitlefontDark" : "mybigtitlefont"; // تغيير الخط
				appBigTitle.style.fontSize = isDarkMode ? "35px" : "22.3pt"; // تغيير الحجم بناءً على الوضع
				appBigTitle.style.letterSpacing = isDarkMode ? "2px" : "0px"; // تباعد الحروف
				appBigTitle.style.wordSpacing = isDarkMode ? "10px" : "1px"; // تباعد الكلمات
				// تغيير الصورة
				logoImage.src = isDarkMode ? "img/logo-v2-inverted.png" : "img/logo-v2.png";
			} else {
				console.error("Element with id 'appBigTitle' not found!");
			}
		};
		*/

      // تحديث الخط عند تحميل الصفحة
      //document.addEventListener("DOMContentLoaded", updateFontFamily);

      document.addEventListener("DOMContentLoaded", function () {
        document.documentElement.style.overflow = "hidden"; // أو الأنماط الأخرى لإخفاء الأشرطة مع إبقاء التمرير
        document.documentElement.style.msOverflowStyle = "none";
        document.documentElement.style.scrollbarWidth = "none";
      });

      document.addEventListener("click", function (event) {
        // الحصول على معلومات حول مكان الضغطة (اختياري)
        var x = event.clientX;
        var y = event.clientY;
        // إرسال رسالة إلى تطبيق WinForms
        const message = JSON.stringify({
          type: "hide.menu",
          x: x,
          y: y,
        });
        console.log("message: " + message);
        window.chrome.webview.postMessage(message);
      });
    </script>
  </body>
</html>
